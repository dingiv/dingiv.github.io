# 设计模式

**设计模式**（Design Pattern）是指在**软件设计**中，对反复出现的问题提出的**通用、可复用的解决方案**。

它不是具体的代码片段，而是一种经过验证的**设计模板**或**思路**，可以根据具体场景进行调整和实现。

### 核心定义（最简洁版）

设计模式是**软件开发中常见问题的典型解决方案**，  
目的是让代码更**易维护**、**易扩展**、**易理解**、**可复用**。

### 经典书籍中的权威表述（GoF《设计模式》1994）

“设计模式是为**面向对象软件**中**反复出现的设计问题**提供的一般**可复用解决方案**。”

### 设计模式真正解决什么问题？

| 问题类型           | 没有模式时的常见表现                     | 使用模式后的收益                     |
|----------------------|--------------------------------------------|--------------------------------------|
| 对象创建复杂         | 到处new，硬编码类名                       | 集中创建逻辑、延迟创建、动态选择实现 |
| 类之间强耦合         | 修改一个类要改十几个地方                   | 通过接口、组合、委托解耦             |
| 算法/行为经常变化     | if-else/switch 爆炸                        | 策略、状态、命令、访问者等灵活切换   |
| 扩展新功能很痛苦     | 大量改动原有代码，容易引入 bug            | 开闭原则（对修改关闭，对扩展开放）   |
| 代码可读性差         | 别人看不懂你写的复杂逻辑                   | 用模式名称就能快速传达意图           |

### 23种经典设计模式（GoF分类）

| 类别     | 数量 | 代表性模式                              | 主要目的                     |
|----------|------|-----------------------------------------|------------------------------|
| 创建型   | 5    | 单例、工厂方法、抽象工厂、建造者、原型   | 控制对象的创建方式           |
| 结构型   | 7    | 适配器、桥接、组合、装饰、外观、享元、代理 | 处理类/对象之间的组合结构   |
| 行为型   | 11   | 观察者、策略、命令、状态、模板方法、责任链、访问者、中介者、迭代器、备忘录、解释器 | 处理类/对象之间的职责分配与通信 |

### 现代视角（2026年实际开发中最常用的）

- **最常写**：单例、工厂（简单工厂+工厂方法）、观察者/发布-订阅、策略、装饰器、适配器、代理
- **框架里大量使用**：依赖注入（DI）容器本质上是工厂+策略+代理的组合
- **微服务/分布式**：熔断器、限流器、降级、负载均衡器、重试、幂等 → 很多也是模式思想的延伸
- **前端**：观察者（Vue/React响应式）、组合（组件树）、高阶组件（HOC）≈装饰器、状态机（XState）≈状态模式

一句话总结：

**设计模式不是让你死记硬背23种写法，而是让你学会用最小的改动代价来应对变化。**

你现在是想：
- 先理解某个具体模式（比如单例、工厂、观察者）？
- 看某个模式在真实项目里的应用场景？
- 还是想知道怎么判断“什么时候该用哪个模式”？

直接告诉我下一步想聚焦哪个点。