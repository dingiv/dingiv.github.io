# 主板

## 主板常见参数
| 参数               | 核心含义                           | 为什么关注                                         |
| ------------------ | ---------------------------------- | -------------------------------------------------- |
| CPU 插座（Socket） | 物理接口                           | 插座不匹配 = 无法安装 CPU                          |
| 供电相数（VRM）    | CPU 供电模块                       | 超频/高功耗 CPU 稳定性                             |
| 芯片组（Chipset）  | 决定 CPU 支持、PCIe 通道、超频能力 | 错芯片组 = CPU 装不上；高端芯片组解锁更多 PCIe/M.2 |
| 内存支持           | 类型/频率/通道/容量                | 影响多任务、游戏帧数；DDR5 已主流                  |
| PCIe 插槽          | 版本 × 通道数                      | 显卡/SSD/扩展卡带宽瓶颈                            |
| M.2 插槽           | SSD 接口数量/规格                  | 系统盘+游戏盘速度                                  |
| 后置 I/O           | USB/网口/音频                      | 外设连接                                           |
| 扩展槽             | SATA/PCIe 小槽                     | 机械硬盘/声卡/采集卡                               |
| BIOS 功能          | 超频/调试                          | 后期优化                                           |
| 尺寸/布局          | Form Factor                        | 机箱兼容 + 走线                                    |

## CPU 适配性
主板的型号首先受限于 CPU，不同的 CPU 需要使用的主板互不相同。因此，Intel CPU 和 AMD CPU 必须使用完全不同的主板，不能混用，选择主板时，应该先选择 CPU。

1. 插座，不同的 CPU 使用不同的插座，即使是同一个公司的不同的 CPU 插座也不一定相同。AMD 的插槽一般是 A65，intel 的插槽一般是 LGB 1700。
2. CPU 供电相数 VRM，指 CPU 供电单元的数量，一般的 PC 级供电单元，每个可以提供 20 W 的供电，主板上包含多个 CPU 供电单元，多个单元的总供电数量要能够 cover CPU 的 TDP（Thermal Design Power, CPU 满载设计功率）；

## 芯片组
也称为南桥（Platform Controller Hub），总管计算机的外设。芯片组通过**扩展总线通道**和 CPU 进行交互，区分于 CPU 的直连通道。

对于 intel 来说，扩展总线通道使用了一种专用的总线协议 DMI 总线，而 AMD 则依旧使用的是 PCIe 通道

```
   ┌──────────────┐
   │    CPU       │
   │  ├──16× PCIe5 GPU
   │  ├──4×  PCIe4 NVMe
   │  └─── DMI4.0 x8 ─────┐
   └──────────────┘        │
                            ▼
                  ┌───────────────────┐
                  │       PCH         │
                  │ USB / SATA / PCIe │
                  │ 网卡 / 声卡等控制器 │
                  └───────────────────┘

```

## 插槽形状
在目前的消费级 PC 主板上，有不同类型的外设插槽类型。
> 注意 CPU 使用 CPU 插槽，内存使用 DDR 插槽。一般的消费级主板，CPU 插槽是 1个，内存插槽是 4 个。

### PCIe 插槽
单个 PCIe5 的通道带宽是 4GiB/s，单个 PCIe4 的通道带宽是 2GiB/s。一些设备的带宽要求较高，可以将多个通道进行合并，从而被同一个设备所使用。接口形似一个钥匙。

![PCIe 插槽转换器](./asset/pcie.avif)

典型的通道合并规格有：
+ x1：网卡、声卡、WiFi 卡
+ x4：NVMe SSD 硬盘、Thunderbolt 卡、10G 网卡
+ x8：双卡桥接、AI 加速卡
+ x16：显卡、高性能计算卡

常见的 PCIe 设备
| 设备类型       | 推荐规格 | 带宽需求    | 示例产品                                    |
| -------------- | -------- | ----------- | ------------------------------------------- |
| GPU            | x16      | ≥32 GiB/s   | RTX 4090 / 5090                             |
| NVMe SSD       | x4       | 8-16 GiB/s  | 三星 990 PRO (Gen4) / 致态 TiPro9000 (Gen5) |
| 10G/25G 网卡   | x4       | ≥5 GiB/s    | Mellanox ConnectX-6                         |
| Thunderbolt 卡 | x4       | 5 GiB/s     | 华硕 ThunderboltEX 4                        |
| WiFi 卡        | x1       | <1 GiB/s    | Intel BE200                                 |
| RAID 扩展卡    | x4/x8    | 10-30 GiB/s | 华硕 Hyper M.2 x16                          |
| 专业采集卡     | x8/x16   | 20+ GiB/s   | Blackmagic DeckLink 8K                      |

### M.2 插槽
常见的使用 M.2 插槽的设备，有 NVMe SSD 硬盘，下层使用的可以是 PCIe 总线协议、SATA 协议、USB 协议

![固态硬盘](./asset/ssd.avif)

插槽形态差异（Key Type），M.2 接口有不同的“缺口（Key）”设计，用来防止错误插入：
+ M Key：用于 NVMe SSD，支持 PCIe x4。
+ B Key：用于 SATA/PCIe x2/USB。
+ B+M Key：混合型 SSD，能在 B 或 M 插槽上都插。

![](./asset/m_2.png)

### SATA 接口
主要用于老式的机械硬盘，形状形如 L 形。

### IO 背板
位于主板背面边缘，插入机箱后对应机箱后面板的开口。通常是一块长条形金属区域，有很多接口孔，用于外接各种设备。
+ 音频接口，3.5mm 音频口（Line-out、Mic-in、Line-in），有些高端板带 光纤输出（S/PDIF）
+ USB 接口，USB 2.0 / 3.0 / 3.1 / 3.2，有的板上还有 USB-C 接口
+ 网络接口（LAN），RJ45 网口，可能是 1G/2.5G/10G，高端板可能还有双网口或光纤接口
+ 视频输出接口（仅 CPU 带集显或板载显卡时有），HDMI、DisplayPort、VGA
+ PS/2 接口，有些板还保留老式键盘/鼠标接口
+ Wi-Fi / 蓝牙天线接口（天线螺母接口）

### 其他插槽

| 插槽名称       | 形状描述                  | 尺寸/针脚                | 用途          | 位置       | 示例设备           |
| -------------- | ------------------------- | ------------------------ | ------------- | ---------- | ------------------ |
| 前置面板头     | 小针脚阵列（2x5 或 2x10） | 9-19 针                  | 接机箱按钮/灯 | 主板右下   | Power SW / HDD LED |
| ARGB / RGB 头  | 小 3/4 针排针             | 3 针 (RGB) / 4 针 (ARGB) | 接灯条        | 主板边缘   | 风扇/灯带          |
| Thunderbolt 头 | 5 针小排针                | 5 针                     | 接 TB 扩展卡  | 主板下     | 华硕 TBEX 4        |
| COM 串口头     | 9 针排针                  | 9 针                     | 老设备调试    | 主板后 I/O | 工业串口           |
| TPM 头         | 2x7 或 2x10 排针          | 14/20 针                 | 安全模块      | 主板下     | TPM 2.0 模块       |
| 扇热头         | 小 3/4 针口               | 3 针 (DC) / 4 针 (PWM)   | 接风扇/水泵   | 主板四周   | 240 水冷泵         |
| ATX 电源头     | 大方块排针                | 24 针主 + 8 针 CPU       | 供电          | 主板右上   | 海盗船 RM850x      |
| PCIe 电源头    | 6/8 针方块                | 6+2 针                   | 给 GPU 供电   | 主板右     | RTX 4090 12VHPWR   |
