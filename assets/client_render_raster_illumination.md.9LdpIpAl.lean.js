import{_ as s,o as a,c as e,ah as l,j as Q,a as T}from"./chunks/framework.BwbIerCg.js";const h3=JSON.parse('{"title":"光照模型","description":"","frontmatter":{"title":"光照模型","order":3},"headers":[],"relativePath":"client/render/raster/illumination.md","filePath":"client/render/raster/illumination.md"}'),m={name:"client/render/raster/illumination.md"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 298 1108","aria-hidden":"true"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.937ex",role:"img",focusable:"false",viewBox:"0 -845 600 856","aria-hidden":"true"},i={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.309ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 12954.7 1347","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.939ex",role:"img",focusable:"false",viewBox:"0 -846 485 857","aria-hidden":"true"},H={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.949ex",height:"2.48ex",role:"img",focusable:"false",viewBox:"0 -846 7491.3 1096","aria-hidden":"true"},w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},x={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.176ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 8918 1347","aria-hidden":"true"},f={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.492ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 7731.3 1347","aria-hidden":"true"},k={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.121ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 22153.7 1347","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.54ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 3774.7 888","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.99ex",height:"1.984ex",role:"img",focusable:"false",viewBox:"0 -683 3531.7 877","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.229ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 4963.3 851.1","aria-hidden":"true"},j={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.229ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 4963.3 851.1","aria-hidden":"true"},A={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.951ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 14122.2 1133.9","aria-hidden":"true"},R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},B={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.408ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 12556.2 2420","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.147ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 949 600.8","aria-hidden":"true"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.371ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 1047.9 600.8","aria-hidden":"true"},G={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.314ex",height:"1.912ex",role:"img",focusable:"false",viewBox:"0 -833.9 1906.7 844.9","aria-hidden":"true"},z={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.028ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.794ex",height:"5.107ex",role:"img",focusable:"false",viewBox:"0 -1361 11843.1 2257.4","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.621ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9556.5 1000","aria-hidden":"true"},q={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.576ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.727ex",height:"2.639ex",role:"img",focusable:"false",viewBox:"0 -911.5 11813.5 1166.3","aria-hidden":"true"},W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.117ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 935.6 851.1","aria-hidden":"true"},Q1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.313ex",height:"4.106ex",role:"img",focusable:"false",viewBox:"0 -1118 5442.2 1815","aria-hidden":"true"},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.489ex",role:"img",focusable:"false",viewBox:"0 -442 517 658","aria-hidden":"true"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 570 442","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.489ex",role:"img",focusable:"false",viewBox:"0 -442 517 658","aria-hidden":"true"},o1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.387ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.555ex",height:"5.69ex",role:"img",focusable:"false",viewBox:"0 -1460 14389.5 2515","aria-hidden":"true"},d1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.873ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 828 683","aria-hidden":"true"},i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.517ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 1112.3 600.8","aria-hidden":"true"},p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.695ex",height:"1.538ex",role:"img",focusable:"false",viewBox:"0 -680 749 680","aria-hidden":"true"},H1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.778ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -705 786 727","aria-hidden":"true"},w1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.591ex",height:"5.564ex",role:"img",focusable:"false",viewBox:"0 -1509.9 17941.3 2459.4","aria-hidden":"true"},x1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},f1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.194ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.918ex",height:"5.611ex",role:"img",focusable:"false",viewBox:"0 -1509.9 14549.8 2479.9","aria-hidden":"true"},k1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.839ex",height:"4.613ex",role:"img",focusable:"false",viewBox:"0 -1342 9653.1 2039","aria-hidden":"true"},V1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.544ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7312.6 1000","aria-hidden":"true"},D1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.366ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8117.6 1000","aria-hidden":"true"},j1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.76ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.609ex",height:"5.885ex",role:"img",focusable:"false",viewBox:"0 -1381 17065.1 2601","aria-hidden":"true"},A1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.18ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.053ex",height:"5.699ex",role:"img",focusable:"false",viewBox:"0 -1555 23007.4 2518.8","aria-hidden":"true"},R1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.997ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 15026.6 1133.9","aria-hidden":"true"},B1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.229ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 8057.2 2597","aria-hidden":"true"},E1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},F1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},G1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"2.353ex",role:"img",focusable:"false",viewBox:"0 -1029 361 1040","aria-hidden":"true"},z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.971ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 429 1108","aria-hidden":"true"},$1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"2.353ex",role:"img",focusable:"false",viewBox:"0 -1029 361 1040","aria-hidden":"true"},q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.971ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 429 1108","aria-hidden":"true"},W1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.213ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 978.3 599.8","aria-hidden":"true"},Q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.322ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 1026.3 599.8","aria-hidden":"true"},T3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.785ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.476ex",height:"8.821ex",role:"img",focusable:"false",viewBox:"0 -1342 22752.4 3899","aria-hidden":"true"},e3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.552ex",height:"1.676ex",role:"img",focusable:"false",viewBox:"0 -583 3338.2 740.8","aria-hidden":"true"};function s3(m3,t,o3,n3,d3,r3){return a(),e("div",null,[t[155]||(t[155]=l("",7)),Q("p",null,[t[4]||(t[4]=T("传统 Phong 模型首先计算反射向量，其中 ",-1)),Q("mjx-container",o,[(a(),e("svg",n,[...t[0]||(t[0]=[l("",1)])])),t[1]||(t[1]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[5]||(t[5]=T(" 是光线方向、",-1)),Q("mjx-container",d,[(a(),e("svg",r,[...t[2]||(t[2]=[l("",1)])])),t[3]||(t[3]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[6]||(t[6]=T(" 是表面法线：",-1))]),Q("mjx-container",i,[(a(),e("svg",h,[...t[7]||(t[7]=[l("",1)])])),t[8]||(t[8]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"="),Q("mtext",null,"reflect"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"−"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),Q("p",null,[t[11]||(t[11]=T("然后计算反射向量与视线方向 ",-1)),Q("mjx-container",p,[(a(),e("svg",g,[...t[9]||(t[9]=[l("",1)])])),t[10]||(t[10]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[12]||(t[12]=T(" 的夹角余弦值。高光项为：",-1))]),Q("mjx-container",H,[(a(),e("svg",u,[...t[13]||(t[13]=[l("",1)])])),t[14]||(t[14]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),Q("p",null,[t[17]||(t[17]=T("指数 ",-1)),Q("mjx-container",w,[(a(),e("svg",c,[...t[15]||(t[15]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[16]||(t[16]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[18]||(t[18]=T(" 控制高光集中程度，典型值在 8 到 256 之间。该模型需要计算反射向量，涉及一次向量减法和点积，在 shader 中开销较大。",-1))]),t[156]||(t[156]=Q("h3",{id:"blinn-phong-改进",tabindex:"-1"},[T("Blinn-Phong 改进 "),Q("a",{class:"header-anchor",href:"#blinn-phong-改进","aria-label":"Permalink to “Blinn-Phong 改进”"},"​")],-1)),t[157]||(t[157]=Q("p",null,"Blinn 提出使用半程向量：",-1)),Q("mjx-container",x,[(a(),e("svg",L,[...t[19]||(t[19]=[l("",1)])])),t[20]||(t[20]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"="),Q("mtext",null,"normalize"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"+"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[158]||(t[158]=Q("p",null,"替代反射向量，高光项改为：",-1)),Q("mjx-container",f,[(a(),e("svg",y,[...t[21]||(t[21]=[l("",1)])])),t[22]||(t[22]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),t[159]||(t[159]=Q("p",null,"半程向量是光线和视线角平分线方向，当视线与光线关于法线对称时与反射向量相同。该改进省去了反射向量计算，仅需一次向量加法和归一化，在高光指数较大时计算效率提升明显。完整的 Blinn-Phong 光照公式为：",-1)),Q("mjx-container",k,[(a(),e("svg",M,[...t[23]||(t[23]=[l("",1)])])),t[24]||(t[24]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"L"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"a")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"a")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"d")]),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),Q("p",null,[t[29]||(t[29]=T("其中 ",-1)),Q("mjx-container",V,[(a(),e("svg",Z,[...t[25]||(t[25]=[l("",1)])])),t[26]||(t[26]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"a")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")])])],-1))]),t[30]||(t[30]=T(" 分别是环境光、漫反射和高光系数，",-1)),Q("mjx-container",b,[(a(),e("svg",v,[...t[27]||(t[27]=[l("",1)])])),t[28]||(t[28]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"a")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"d")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"s")])])],-1))]),t[31]||(t[31]=T(" 是对应的光照强度。",-1))]),t[160]||(t[160]=Q("h3",{id:"能量不守恒问题",tabindex:"-1"},[T("能量不守恒问题 "),Q("a",{class:"header-anchor",href:"#能量不守恒问题","aria-label":"Permalink to “能量不守恒问题”"},"​")],-1)),Q("p",null,[t[36]||(t[36]=T("Phong 和 Blinn-Phong 模型都存在能量不守恒的问题，当 ",-1)),Q("mjx-container",D,[(a(),e("svg",_,[...t[32]||(t[32]=[l("",1)])])),t[33]||(t[33]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",null,">"),Q("mn",null,"1")])],-1))]),t[37]||(t[37]=T(" 时反射光能量会超过入射光能量。工程中常强制 ",-1)),Q("mjx-container",j,[(a(),e("svg",C,[...t[34]||(t[34]=[l("",1)])])),t[35]||(t[35]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",null,"="),Q("mn",null,"1")])],-1))]),t[38]||(t[38]=T(' 或直接归一化高光项，但这仍不能完全解决问题，这也是该模型被称为"经验模型"而非"物理模型"的主要原因。',-1))]),t[161]||(t[161]=l("",6)),Q("mjx-container",A,[(a(),e("svg",S,[...t[39]||(t[39]=[l("",1)])])),t[40]||(t[40]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"F"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"5")])])],-1))]),Q("p",null,[t[43]||(t[43]=T("其中 ",-1)),Q("mjx-container",R,[(a(),e("svg",P,[...t[41]||(t[41]=[l("",1)])])),t[42]||(t[42]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[44]||(t[44]=T(" 是垂直入射时的反射率，对于大多数非金属约为 0.04，金属则可高达 0.8-1.0。这意味着掠射角下几乎所有材质都会变成类似镜面的反射体。",-1))]),t[162]||(t[162]=Q("h3",{id:"能量守恒",tabindex:"-1"},[T("能量守恒 "),Q("a",{class:"header-anchor",href:"#能量守恒","aria-label":"Permalink to “能量守恒”"},"​")],-1)),t[163]||(t[163]=Q("p",null,"能量守恒要求出射光能量不能超过入射光能量，对于不透明材质意味着反射率和透射率之和为 1。在 BRDF 建模中体现为漫反射和镜面反射的能量分配，镜面反射越强的材质漫反射越弱，金属几乎全部能量都用于镜面反射因此没有漫反射项。",-1)),t[164]||(t[164]=Q("h2",{id:"brdf-双向反射分布函数",tabindex:"-1"},[T("BRDF 双向反射分布函数 "),Q("a",{class:"header-anchor",href:"#brdf-双向反射分布函数","aria-label":"Permalink to “BRDF 双向反射分布函数”"},"​")],-1)),t[165]||(t[165]=Q("p",null,"BRDF 定义为：",-1)),Q("mjx-container",B,[(a(),e("svg",O,[...t[45]||(t[45]=[l("",1)])])),t[46]||(t[46]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"L"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"L"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")]),Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")])])])])],-1))]),Q("p",null,[t[53]||(t[53]=T("描述了给定入射光照方向 ",-1)),Q("mjx-container",E,[(a(),e("svg",I,[...t[47]||(t[47]=[l("",1)])])),t[48]||(t[48]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")])])],-1))]),t[54]||(t[54]=T(" 和出射观察方向 ",-1)),Q("mjx-container",F,[(a(),e("svg",N,[...t[49]||(t[49]=[l("",1)])])),t[50]||(t[50]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")])])],-1))]),t[55]||(t[55]=T(" 时的反射光比例。BRDF 的单位是 ",-1)),Q("mjx-container",G,[(a(),e("svg",X,[...t[51]||(t[51]=[l("",1)])])),t[52]||(t[52]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"s"),Q("msup",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"1")])])])],-1))]),t[56]||(t[56]=T("（球面度倒数），物理意义是单位立体角内的反射率。",-1))]),t[166]||(t[166]=Q("h3",{id:"brdf-性质",tabindex:"-1"},[T("BRDF 性质 "),Q("a",{class:"header-anchor",href:"#brdf-性质","aria-label":"Permalink to “BRDF 性质”"},"​")],-1)),t[167]||(t[167]=Q("p",null,"有效的 BRDF 需要满足：线性性允许叠加多个光源的贡献，能量守恒要求：",-1)),Q("mjx-container",z,[(a(),e("svg",J,[...t[57]||(t[57]=[l("",1)])])),t[58]||(t[58]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mo",{"data-mjx-texclass":"OP"},"∫"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",{mathvariant:"normal"},"Ω"),Q("mo",null,"+")])])]),Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"o")]),Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",null,"≤"),Q("mn",null,"1")])],-1))]),Q("p",null,[t[61]||(t[61]=T("亥姆霍兹互易性 ",-1)),Q("mjx-container",$,[(a(),e("svg",U,[...t[59]||(t[59]=[l("",1)])])),t[60]||(t[60]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[62]||(t[62]=T(" 允许交换光线方向，非负性要求 BRDF 值永远非负。实际渲染中常将 BRDF 拆分为漫反射和镜面反射两项：",-1))]),Q("mjx-container",q,[(a(),e("svg",K,[...t[63]||(t[63]=[l("",1)])])),t[64]||(t[64]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mi",null,"i"),Q("mi",null,"f"),Q("mi",null,"f"),Q("mi",null,"u"),Q("mi",null,"s"),Q("mi",null,"e")])]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"p"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"u"),Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"r")])])])],-1))]),Q("p",null,[t[67]||(t[67]=T("其中 ",-1)),Q("mjx-container",W,[(a(),e("svg",Y,[...t[65]||(t[65]=[l("",1)])])),t[66]||(t[66]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")])])],-1))]),t[68]||(t[68]=T(" 实际上是菲涅尔项在特定角度下的值。",-1))]),t[168]||(t[168]=Q("h3",{id:"漫反射-brdf",tabindex:"-1"},[T("漫反射 BRDF "),Q("a",{class:"header-anchor",href:"#漫反射-brdf","aria-label":"Permalink to “漫反射 BRDF”"},"​")],-1)),t[169]||(t[169]=Q("p",null,"理想的朗伯漫反射 BRDF 是常数：",-1)),Q("mjx-container",Q1,[(a(),e("svg",t1,[...t[69]||(t[69]=[l("",1)])])),t[70]||(t[70]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"m"),Q("mi",null,"b"),Q("mi",null,"e"),Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mi",null,"ρ"),Q("mi",null,"π")])])],-1))]),Q("p",null,[t[77]||(t[77]=T("其中 ",-1)),Q("mjx-container",T1,[(a(),e("svg",a1,[...t[71]||(t[71]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70C",d:"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z",style:{"stroke-width":"3"}})])])],-1)])])),t[72]||(t[72]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ρ")])],-1))]),t[78]||(t[78]=T(" 是反照率。除以 ",-1)),Q("mjx-container",e1,[(a(),e("svg",l1,[...t[73]||(t[73]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70B",d:"M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z",style:{"stroke-width":"3"}})])])],-1)])])),t[74]||(t[74]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"π")])],-1))]),t[79]||(t[79]=T(" 的原因是 BRDF 是辐射亮度的比值而非能量的比值，朗伯表面对半球空间积分后反射率为 ",-1)),Q("mjx-container",s1,[(a(),e("svg",m1,[...t[75]||(t[75]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70C",d:"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z",style:{"stroke-width":"3"}})])])],-1)])])),t[76]||(t[76]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ρ")])],-1))]),t[80]||(t[80]=T("。工程实践中 Oren-Nayar 模型通过引入微表面间的相互遮挡来模拟粗糙表面的漫反射效果，公式涉及入射角和出射角的正弦值与方位角差，能表现出粗糙表面在掠射角下的暗化现象，特别适合模拟布料、泥土等粗糙材质。",-1))]),t[170]||(t[170]=Q("h2",{id:"cook-torrance-镜面反射-brdf",tabindex:"-1"},[T("Cook-Torrance 镜面反射 BRDF "),Q("a",{class:"header-anchor",href:"#cook-torrance-镜面反射-brdf","aria-label":"Permalink to “Cook-Torrance 镜面反射 BRDF”"},"​")],-1)),t[171]||(t[171]=Q("p",null,"Cook-Torrance 模型将镜面反射 BRDF 分解为三项：",-1)),Q("mjx-container",o1,[(a(),e("svg",n1,[...t[81]||(t[81]=[l("",1)])])),t[82]||(t[82]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"p"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"u"),Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"r")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"D"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"F"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"G"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mn",null,"4"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("p",null,[t[91]||(t[91]=T("分母中的几何项修正了微表面面积与宏观表面积的差异。",-1)),Q("mjx-container",d1,[(a(),e("svg",r1,[...t[83]||(t[83]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D437",d:"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z",style:{"stroke-width":"3"}})])])],-1)])])),t[84]||(t[84]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"D")])],-1))]),t[92]||(t[92]=T(" 是法线分布函数（NDF）描述微镜面法线为半程向量 ",-1)),Q("mjx-container",i1,[(a(),e("svg",h1,[...t[85]||(t[85]=[l("",1)])])),t[86]||(t[86]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])],-1))]),t[93]||(t[93]=T(" 的概率密度，",-1)),Q("mjx-container",p1,[(a(),e("svg",g1,[...t[87]||(t[87]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D439",d:"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z",style:{"stroke-width":"3"}})])])],-1)])])),t[88]||(t[88]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"F")])],-1))]),t[94]||(t[94]=T(" 是菲涅尔项描述反射比例，",-1)),Q("mjx-container",H1,[(a(),e("svg",u1,[...t[89]||(t[89]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D43A",d:"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z",style:{"stroke-width":"3"}})])])],-1)])])),t[90]||(t[90]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"G")])],-1))]),t[95]||(t[95]=T(" 是几何遮蔽函数描述微镜面相互遮挡造成的能量损失。",-1))]),t[172]||(t[172]=Q("h3",{id:"法线分布函数-d",tabindex:"-1"},[T("法线分布函数 D "),Q("a",{class:"header-anchor",href:"#法线分布函数-d","aria-label":"Permalink to “法线分布函数 D”"},"​")],-1)),t[173]||(t[173]=Q("p",null,"Beckmann 分布：",-1)),Q("mjx-container",w1,[(a(),e("svg",c1,[...t[96]||(t[96]=[l("",1)])])),t[97]||(t[97]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"k"),Q("mi",null,"m"),Q("mi",null,"a"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mi",null,"π"),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"4")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])])]),Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mo",null,"−"),Q("mfrac",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"tan"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])]),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),Q("p",null,[t[100]||(t[100]=T("基于高斯分布假设，",-1)),Q("mjx-container",x1,[(a(),e("svg",L1,[...t[98]||(t[98]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[99]||(t[99]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[101]||(t[101]=T(" 是粗糙度参数。",-1))]),t[174]||(t[174]=Q("p",null,"GGX 分布（也称 Trowbridge-Reitz）：",-1)),Q("mjx-container",f1,[(a(),e("svg",y1,[...t[102]||(t[102]=[l("",1)])])),t[103]||(t[103]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"G"),Q("mi",null,"X")])]),Q("mo",null,"="),Q("mfrac",null,[Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mrow",null,[Q("mi",null,"π"),Q("mo",{stretchy:"false"},"("),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")]),Q("mo",null,"+"),Q("mn",null,"1"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])])])])],-1))]),t[175]||(t[175]=Q("p",null,"的长尾特性更好，能产生现实中观察到的明亮高光周围柔和的衰减效果。",-1)),t[176]||(t[176]=Q("p",null,"Blinn-Phong 分布：",-1)),Q("mjx-container",k1,[(a(),e("svg",M1,[...t[104]||(t[104]=[l("",1)])])),t[105]||(t[105]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"α"),Q("mo",null,"+"),Q("mn",null,"2")]),Q("mrow",null,[Q("mn",null,"2"),Q("mi",null,"π")])]),Q("msup",null,[Q("mi",null,"cos"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"α")])]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])])],-1))]),Q("p",null,[t[110]||(t[110]=T("计算简单但长尾效果不如 GGX，",-1)),Q("mjx-container",V1,[(a(),e("svg",Z1,[...t[106]||(t[106]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[107]||(t[107]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[111]||(t[111]=T(" 与 Blinn-Phong 高光指数的关系是 ",-1)),Q("mjx-container",b1,[(a(),e("svg",v1,[...t[108]||(t[108]=[l("",1)])])),t[109]||(t[109]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α"),Q("mo",null,"="),Q("mi",null,"s"),Q("mi",null,"h"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"e"),Q("mi",null,"s"),Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2")])],-1))]),t[112]||(t[112]=T("。",-1))]),t[177]||(t[177]=Q("h3",{id:"几何遮蔽函数-g",tabindex:"-1"},[T("几何遮蔽函数 G "),Q("a",{class:"header-anchor",href:"#几何遮蔽函数-g","aria-label":"Permalink to “几何遮蔽函数 G”"},"​")],-1)),t[178]||(t[178]=Q("p",null,"Smith 函数是现代 PBR 中的主流选择，将几何项分解为：",-1)),Q("mjx-container",D1,[(a(),e("svg",_1,[...t[113]||(t[113]=[l("",1)])])),t[114]||(t[114]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"G"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[179]||(t[179]=Q("p",null,"对于 GGX 分布，Smith 函数的解析形式为：",-1)),Q("mjx-container",j1,[(a(),e("svg",C1,[...t[115]||(t[115]=[l("",1)])])),t[116]||(t[116]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"ω"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")]),Q("mrow",null,[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("mo",null,"+"),Q("msqrt",null,[Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])])])])],-1))]),t[180]||(t[180]=Q("p",null,"该公式在粗糙表面时能有效模拟遮挡效应。更精确的 Smith 相关函数还考虑了入射光和出射光的相关性，但计算复杂度更高。早期的 Blinn 函数：",-1)),Q("mjx-container",A1,[(a(),e("svg",S1,[...t[117]||(t[117]=[l("",1)])])),t[118]||(t[118]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mn",null,"1"),Q("mo",null,","),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"o")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])]),Q("mo",null,","),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"o")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),t[181]||(t[181]=Q("p",null,"通过取三个值的最小值来近似，计算简单但不够准确。",-1)),t[182]||(t[182]=Q("h3",{id:"菲涅尔项-f",tabindex:"-1"},[T("菲涅尔项 F "),Q("a",{class:"header-anchor",href:"#菲涅尔项-f","aria-label":"Permalink to “菲涅尔项 F”"},"​")],-1)),t[183]||(t[183]=Q("p",null,"Schlick 近似：",-1)),Q("mjx-container",R1,[(a(),e("svg",P1,[...t[119]||(t[119]=[l("",1)])])),t[120]||(t[120]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"F"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"c"),Q("mi",null,"h"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"k")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"5")])])],-1))]),t[184]||(t[184]=Q("p",null,"是实时渲染中的标准选择，其中：",-1)),Q("mjx-container",B1,[(a(),e("svg",O1,[...t[121]||(t[121]=[l("",1)])])),t[122]||(t[122]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"="),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"1")]),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"2")])]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"1")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"2")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mn",null,"2")])])],-1))]),Q("p",null,[t[127]||(t[127]=T("是垂直入射时的反射率。对于导体（金属），",-1)),Q("mjx-container",E1,[(a(),e("svg",I1,[...t[123]||(t[123]=[l("",1)])])),t[124]||(t[124]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[128]||(t[128]=T(" 通常在 0.5 到 1.0 之间且与波长相关，因此金属高光带有颜色。对于绝缘体（非金属），",-1)),Q("mjx-container",F1,[(a(),e("svg",N1,[...t[125]||(t[125]=[l("",1)])])),t[126]||(t[126]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[129]||(t[129]=T(" 约为 0.04 且几乎不随波长变化，这也是为什么金属和塑料看起来质感不同的根本原因。完整的菲涅尔公式需要考虑 s 偏振和 p 偏振分量，计算过于复杂不适合实时渲染。",-1))]),t[185]||(t[185]=Q("h2",{id:"各向异性反射",tabindex:"-1"},[T("各向异性反射 "),Q("a",{class:"header-anchor",href:"#各向异性反射","aria-label":"Permalink to “各向异性反射”"},"​")],-1)),Q("p",null,[t[142]||(t[142]=T("各向异性 BRDF 考虑了表面存在方向性纹理（如拉丝金属、头发、布料）时反射特性的变化。这类材质需要定义切线方向 ",-1)),Q("mjx-container",G1,[(a(),e("svg",X1,[...t[130]||(t[130]=[l("",1)])])),t[131]||(t[131]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[143]||(t[143]=T(" 和副切线方向 ",-1)),Q("mjx-container",z1,[(a(),e("svg",J1,[...t[132]||(t[132]=[l("",1)])])),t[133]||(t[133]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[144]||(t[144]=T("，微表面分布函数需要在切线平面内分别考虑沿 ",-1)),Q("mjx-container",$1,[(a(),e("svg",U1,[...t[134]||(t[134]=[l("",1)])])),t[135]||(t[135]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[145]||(t[145]=T(" 和 ",-1)),Q("mjx-container",q1,[(a(),e("svg",K1,[...t[136]||(t[136]=[l("",1)])])),t[137]||(t[137]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[146]||(t[146]=T(" 方向的粗糙度 ",-1)),Q("mjx-container",W1,[(a(),e("svg",Y1,[...t[138]||(t[138]=[l("",1)])])),t[139]||(t[139]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")])])],-1))]),t[147]||(t[147]=T(" 和 ",-1)),Q("mjx-container",Q3,[(a(),e("svg",t3,[...t[140]||(t[140]=[l("",1)])])),t[141]||(t[141]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")])])],-1))]),t[148]||(t[148]=T("。各向异性 GGX 的公式为：",-1))]),Q("mjx-container",T3,[(a(),e("svg",a3,[...t[149]||(t[149]=[l("",1)])])),t[150]||(t[150]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"s"),Q("mi",null,"o")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mi",null,"π"),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")]),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")]),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"4")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mfrac",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("msubsup",null,[Q("mi",null,"α"),Q("mi",null,"t"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mfrac",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("msubsup",null,[Q("mi",null,"α"),Q("mi",null,"b"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mn",null,"2")])])])])],-1))]),Q("p",null,[t[153]||(t[153]=T("当 ",-1)),Q("mjx-container",e3,[(a(),e("svg",l3,[...t[151]||(t[151]=[l("",1)])])),t[152]||(t[152]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")])])],-1))]),t[154]||(t[154]=T(" 时退化为各向同性的 GGX。头发渲染使用 Marschner 模型，考虑了 R（表面反射）、TT（进入后穿出）、TRT（进入后内部反射再穿出）三种光路，需要单独的着色模型处理。",-1))]),t[186]||(t[186]=Q("h2",{id:"折射模型",tabindex:"-1"},[T("折射模型 "),Q("a",{class:"header-anchor",href:"#折射模型","aria-label":"Permalink to “折射模型”"},"​")],-1)),t[187]||(t[187]=Q("p",null,"// TODO:",-1))])}const p3=s(m,[["render",s3]]);export{h3 as __pageData,p3 as default};
