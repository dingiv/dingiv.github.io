import{_ as e,c as T,o as s,j as t,ah as l,a as Q}from"./chunks/framework.C5lh6Kkj.js";const h1=JSON.parse('{"title":"RNN","description":"","frontmatter":{},"headers":[],"relativePath":"ai/neural/dl/rnn.md","filePath":"ai/neural/dl/rnn.md"}'),n={name:"ai/neural/dl/rnn.md"},i={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.087ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.483ex",height:"5.305ex",role:"img",focusable:"false",viewBox:"0 -1422.5 14799.6 2345","aria-hidden":"true"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.059ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 910.3 599.8","aria-hidden":"true"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.068ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 914.3 851.8","aria-hidden":"true"},H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.874ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 828.3 647","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.368ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 6350.5 978","aria-hidden":"true"},L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.028ex",height:"2.237ex",role:"img",focusable:"false",viewBox:"0 -694 2222.4 989","aria-hidden":"true"},M={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.115ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.626ex",height:"3.28ex",role:"img",focusable:"false",viewBox:"0 -957.1 7348.8 1449.8","aria-hidden":"true"},Z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.383ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1053.3 862.8","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.068ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 914.3 851.8","aria-hidden":"true"},_={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-8.564ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.8ex",height:"18.26ex",role:"img",focusable:"false",viewBox:"0 -4285.5 22453.4 8071","aria-hidden":"true"},A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.292ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 571 442","aria-hidden":"true"},S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.188ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.76ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -583 778 666","aria-hidden":"true"},B={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.436ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3728.9 1000","aria-hidden":"true"},N={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.021ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 11501.4 1045","aria-hidden":"true"},P={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.427ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -705 1956.9 913","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.022ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 2661.8 910","aria-hidden":"true"},J={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.022ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 2661.8 910","aria-hidden":"true"},q={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.334ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.438ex",height:"5.799ex",role:"img",focusable:"false",viewBox:"0 -1531.5 13453.4 2563","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.546ex",height:"1.852ex",role:"img",focusable:"false",viewBox:"0 -661 683.3 818.8","aria-hidden":"true"},K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.383ex",height:"2.649ex",role:"img",focusable:"false",viewBox:"0 -1013 1053.3 1170.8","aria-hidden":"true"},t1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.927ex",height:"2.762ex",role:"img",focusable:"false",viewBox:"0 -1013 10575.9 1221","aria-hidden":"true"},Q1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.036ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.008ex",height:"5.204ex",role:"img",focusable:"false",viewBox:"0 -1400 11495.5 2300","aria-hidden":"true"},s1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.68ex",height:"4.104ex",role:"img",focusable:"false",viewBox:"0 -1564 5162.8 1814","aria-hidden":"true"};function e1(n1,a,i1,m1,d1,r1){return s(),T("div",null,[a[80]||(a[80]=t("h1",{id:"rnn",tabindex:"-1"},[Q("RNN "),t("a",{class:"header-anchor",href:"#rnn","aria-label":"Permalink to “RNN”"},"​")],-1)),a[81]||(a[81]=t("p",null,"循环神经网络（Recurrent Neural Network）是最早成功应用于序列建模的深度学习架构，特别适合处理变长序列数据。",-1)),a[82]||(a[82]=t("h3",{id:"基本结构",tabindex:"-1"},[Q("基本结构 "),t("a",{class:"header-anchor",href:"#基本结构","aria-label":"Permalink to “基本结构”"},"​")],-1)),a[83]||(a[83]=t("p",null,[Q("RNN 的核心思想是在序列的每个时间步共享参数，并维护一个"),t("strong",null,"隐藏状态（hidden state）"),Q("来记忆历史信息。")],-1)),a[84]||(a[84]=t("p",null,[t("strong",null,"标准 RNN 公式"),Q("：")],-1)),t("mjx-container",i,[(s(),T("svg",m,[...a[0]||(a[0]=[l("",1)])])),a[1]||(a[1]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"h"),t("mi",null,"h")])]),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,"+"),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mi",null,"h")])]),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"h")]),t("mo",{stretchy:"false"},")")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"y"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"h"),t("mi",null,"y")])]),t("msub",null,[t("mi",null,"h"),t("mi",null,"t")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"y")])])])])])],-1))]),a[85]||(a[85]=t("p",null,"其中：",-1)),t("ul",null,[t("li",null,[t("mjx-container",d,[(s(),T("svg",r,[...a[2]||(a[2]=[l("",1)])])),a[3]||(a[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"x"),t("mi",null,"t")])])],-1))]),a[6]||(a[6]=Q("：时刻 ",-1)),t("mjx-container",o,[(s(),T("svg",h,[...a[4]||(a[4]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)])])),a[5]||(a[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),a[7]||(a[7]=Q(" 的输入（如词向量）",-1))]),t("li",null,[t("mjx-container",p,[(s(),T("svg",g,[...a[8]||(a[8]=[l("",1)])])),a[9]||(a[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])])],-1))]),a[12]||(a[12]=Q("：时刻 ",-1)),t("mjx-container",H,[(s(),T("svg",u,[...a[10]||(a[10]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)])])),a[11]||(a[11]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),a[13]||(a[13]=Q(" 的隐藏状态",-1))]),t("li",null,[t("mjx-container",k,[(s(),T("svg",c,[...a[14]||(a[14]=[l("",1)])])),a[15]||(a[15]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"t")])])],-1))]),a[18]||(a[18]=Q("：时刻 ",-1)),t("mjx-container",x,[(s(),T("svg",f,[...a[16]||(a[16]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)])])),a[17]||(a[17]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),a[19]||(a[19]=Q(" 的输出",-1))]),t("li",null,[t("mjx-container",w,[(s(),T("svg",y,[...a[20]||(a[20]=[l("",1)])])),a[21]||(a[21]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"h"),t("mi",null,"h")])]),t("mo",null,","),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mi",null,"h")])]),t("mo",null,","),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"h"),t("mi",null,"y")])])])],-1))]),a[22]||(a[22]=Q("：权重矩阵（所有时间步共享）",-1))]),t("li",null,[t("mjx-container",L,[(s(),T("svg",V,[...a[23]||(a[23]=[l("",1)])])),a[24]||(a[24]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"b"),t("mi",null,"h")]),t("mo",null,","),t("msub",null,[t("mi",null,"b"),t("mi",null,"y")])])],-1))]),a[25]||(a[25]=Q("：偏置项",-1))])]),a[86]||(a[86]=l("",8)),t("ul",null,[a[29]||(a[29]=t("li",null,"通过时间反向传播（BPTT）时，梯度连乘导致指数级衰减",-1)),t("li",null,[a[28]||(a[28]=Q("数学上：",-1)),t("mjx-container",M,[(s(),T("svg",b,[...a[26]||(a[26]=[l("",1)])])),a[27]||(a[27]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"∂"),t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])]),t("mrow",null,[t("mi",null,"∂"),t("msub",null,[t("mi",null,"h"),t("mn",null,"1")])])]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∏"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"2")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mfrac",null,[t("mrow",null,[t("mi",null,"∂"),t("msub",null,[t("mi",null,"h"),t("mi",null,"i")])]),t("mrow",null,[t("mi",null,"∂"),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])])])])])],-1))])]),a[30]||(a[30]=t("li",null,"当权重矩阵的最大特征值 < 1 时，梯度趋向于 0",-1)),a[31]||(a[31]=t("li",null,[t("strong",null,"后果"),Q("：无法学习长距离依赖，只能记住最近几步的信息")],-1))]),a[87]||(a[87]=l("",22)),t("ul",null,[t("li",null,[a[34]||(a[34]=t("strong",null,"细胞状态（Cell State）",-1)),a[35]||(a[35]=Q()),t("mjx-container",Z,[(s(),T("svg",E,[...a[32]||(a[32]=[l("",1)])])),a[33]||(a[33]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"C"),t("mi",null,"t")])])],-1))]),a[36]||(a[36]=Q('：长期记忆，像"传送带"贯穿整个序列',-1))]),t("li",null,[a[39]||(a[39]=t("strong",null,"隐藏状态（Hidden State）",-1)),a[40]||(a[40]=Q()),t("mjx-container",D,[(s(),T("svg",v,[...a[37]||(a[37]=[l("",1)])])),a[38]||(a[38]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])])],-1))]),a[41]||(a[41]=Q("：短期记忆，传递给下一层",-1))])]),a[88]||(a[88]=t("p",null,[t("strong",null,"完整的 LSTM 计算过程"),Q("：")],-1)),t("mjx-container",_,[(s(),T("svg",C,[...a[42]||(a[42]=[l("",1)])])),a[43]||(a[43]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"f"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"f")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"f")]),t("mo",{stretchy:"false"},")"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（遗忘门）")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"i"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"i")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（输入门）")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"C"),t("mo",{stretchy:"false"},"~")])]),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"C")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"C")]),t("mo",{stretchy:"false"},")"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（候选细胞状态）")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"C"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mi",null,"f"),t("mi",null,"t")]),t("mo",null,"⊙"),t("msub",null,[t("mi",null,"C"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,"+"),t("msub",null,[t("mi",null,"i"),t("mi",null,"t")]),t("mo",null,"⊙"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"C"),t("mo",{stretchy:"false"},"~")])]),t("mi",null,"t")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（更新细胞状态）")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"o"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"o")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（输出门）")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"⊙"),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"C"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mtext",null,"（输出隐藏状态）")])])])])],-1))]),a[89]||(a[89]=t("p",null,"其中：",-1)),t("ul",null,[t("li",null,[t("mjx-container",A,[(s(),T("svg",F,[...a[44]||(a[44]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D70E",d:"M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z",style:{"stroke-width":"3"}})])])],-1)])])),a[45]||(a[45]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"σ")])],-1))]),a[46]||(a[46]=Q(" 是 Sigmoid 函数，输出 [0, 1]，用于门控",-1))]),t("li",null,[t("mjx-container",S,[(s(),T("svg",j,[...a[47]||(a[47]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mo"},[t("path",{"data-c":"2299",d:"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z",style:{"stroke-width":"3"}})])])],-1)])])),a[48]||(a[48]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",null,"⊙")])],-1))]),a[49]||(a[49]=Q(" 表示逐元素乘法（Hadamard product）",-1))]),t("li",null,[t("mjx-container",B,[(s(),T("svg",R,[...a[50]||(a[50]=[l("",1)])])),a[51]||(a[51]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]")])],-1))]),a[52]||(a[52]=Q(" 表示向量拼接",-1))])]),a[90]||(a[90]=t("h3",{id:"门控机制详解",tabindex:"-1"},[Q("门控机制详解 "),t("a",{class:"header-anchor",href:"#门控机制详解","aria-label":"Permalink to “门控机制详解”"},"​")],-1)),a[91]||(a[91]=t("h4",{id:"_1-遗忘门-forget-gate",tabindex:"-1"},[Q("1. 遗忘门（Forget Gate） "),t("a",{class:"header-anchor",href:"#_1-遗忘门-forget-gate","aria-label":"Permalink to “1. 遗忘门（Forget Gate）”"},"​")],-1)),t("mjx-container",N,[(s(),T("svg",z,[...a[53]||(a[53]=[l("",1)])])),a[54]||(a[54]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"f"),t("mi",null,"t")]),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"f")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"f")]),t("mo",{stretchy:"false"},")")])],-1))]),t("p",null,[a[57]||(a[57]=t("strong",null,"作用",-1)),a[58]||(a[58]=Q("：决定从上一时刻的细胞状态 ",-1)),t("mjx-container",P,[(s(),T("svg",O,[...a[55]||(a[55]=[l("",1)])])),a[56]||(a[56]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"C"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])])],-1))]),a[59]||(a[59]=Q(" 中保留多少信息。",-1))]),t("ul",null,[t("li",null,[t("mjx-container",I,[(s(),T("svg",G,[...a[60]||(a[60]=[l("",1)])])),a[61]||(a[61]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"f"),t("mi",null,"t")]),t("mo",null,"="),t("mn",null,"1")])],-1))]),a[62]||(a[62]=Q("：完全保留",-1))]),t("li",null,[t("mjx-container",J,[(s(),T("svg",X,[...a[63]||(a[63]=[l("",1)])])),a[64]||(a[64]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"f"),t("mi",null,"t")]),t("mo",null,"="),t("mn",null,"0")])],-1))]),a[65]||(a[65]=Q("：完全遗忘",-1))])]),a[92]||(a[92]=t("p",null,[t("strong",null,"直觉"),Q("：在阅读新句子时，可能需要忘记上一句的主语。")],-1)),a[93]||(a[93]=t("h4",{id:"_2-输入门-input-gate",tabindex:"-1"},[Q("2. 输入门（Input Gate） "),t("a",{class:"header-anchor",href:"#_2-输入门-input-gate","aria-label":"Permalink to “2. 输入门（Input Gate）”"},"​")],-1)),t("mjx-container",q,[(s(),T("svg",W,[...a[66]||(a[66]=[l("",1)])])),a[67]||(a[67]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"i"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"i")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"C"),t("mo",{stretchy:"false"},"~")])]),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"C")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"C")]),t("mo",{stretchy:"false"},")")])])])])],-1))]),a[94]||(a[94]=t("p",null,[t("strong",null,"作用"),Q("：决定将多少新信息加入细胞状态。")],-1)),t("ul",null,[t("li",null,[t("mjx-container",$,[(s(),T("svg",U,[...a[68]||(a[68]=[l("",1)])])),a[69]||(a[69]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"i"),t("mi",null,"t")])])],-1))]),a[70]||(a[70]=Q(' 控制"要不要更新"',-1))]),t("li",null,[t("mjx-container",K,[(s(),T("svg",Y,[...a[71]||(a[71]=[l("",1)])])),a[72]||(a[72]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"C"),t("mo",{stretchy:"false"},"~")])]),t("mi",null,"t")])])],-1))]),a[73]||(a[73]=Q(" 是候选的更新内容",-1))])]),a[95]||(a[95]=t("p",null,[t("strong",null,"直觉"),Q("：当遇到新的主语时，将其存入记忆。")],-1)),a[96]||(a[96]=t("h4",{id:"_3-更新细胞状态",tabindex:"-1"},[Q("3. 更新细胞状态 "),t("a",{class:"header-anchor",href:"#_3-更新细胞状态","aria-label":"Permalink to “3. 更新细胞状态”"},"​")],-1)),t("mjx-container",t1,[(s(),T("svg",a1,[...a[74]||(a[74]=[l("",1)])])),a[75]||(a[75]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"C"),t("mi",null,"t")]),t("mo",null,"="),t("msub",null,[t("mi",null,"f"),t("mi",null,"t")]),t("mo",null,"⊙"),t("msub",null,[t("mi",null,"C"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,"+"),t("msub",null,[t("mi",null,"i"),t("mi",null,"t")]),t("mo",null,"⊙"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"C"),t("mo",{stretchy:"false"},"~")])]),t("mi",null,"t")])])],-1))]),a[97]||(a[97]=t("p",null,"这是 LSTM 的核心：",-1)),a[98]||(a[98]=t("ul",null,[t("li",null,"第一项：保留旧记忆（经遗忘门过滤）"),t("li",null,"第二项：添加新记忆（经输入门过滤）")],-1)),a[99]||(a[99]=t("p",null,[t("strong",null,"关键优势"),Q("：这个加法操作使得梯度可以直接回传，缓解梯度消失！")],-1)),a[100]||(a[100]=t("h4",{id:"_4-输出门-output-gate",tabindex:"-1"},[Q("4. 输出门（Output Gate） "),t("a",{class:"header-anchor",href:"#_4-输出门-output-gate","aria-label":"Permalink to “4. 输出门（Output Gate）”"},"​")],-1)),t("mjx-container",Q1,[(s(),T("svg",T1,[...a[76]||(a[76]=[l("",1)])])),a[77]||(a[77]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"o"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"o")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"x"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"⊙"),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"C"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])],-1))]),a[101]||(a[101]=l("",10)),t("mjx-container",s1,[(s(),T("svg",l1,[...a[78]||(a[78]=[l("",1)])])),a[79]||(a[79]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")]),t("mo",null,"="),t("mo",{stretchy:"false"},"["),t("mover",null,[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")]),t("mo",null,"→")]),t("mo",null,";"),t("mover",null,[t("msub",null,[t("mi",null,"h"),t("mi",null,"t")]),t("mo",null,"←")]),t("mo",{stretchy:"false"},"]")])],-1))]),a[102]||(a[102]=l("",7))])}const p1=e(n,[["render",e1]]);export{h1 as __pageData,p1 as default};
