import{_ as e,o as r,c as t,ah as i}from"./chunks/framework.D8J2w7BQ.js";const m=JSON.parse('{"title":"智能合约","description":"","frontmatter":{"title":"智能合约","order":3},"headers":[],"relativePath":"web3/solidity/smart-contracts.md","filePath":"web3/solidity/smart-contracts.md"}'),l={name:"web3/solidity/smart-contracts.md"};function h(n,a,o,s,d,c){return r(),t("div",null,[...a[0]||(a[0]=[i('<h1 id="智能合约" tabindex="-1">智能合约 <a class="header-anchor" href="#智能合约" aria-label="Permalink to “智能合约”">​</a></h1><h2 id="智能合约基础" tabindex="-1">智能合约基础 <a class="header-anchor" href="#智能合约基础" aria-label="Permalink to “智能合约基础”">​</a></h2><p>智能合约是部署在区块链上自动执行的程序代码，一旦部署不可修改，为DeFi、NFT等应用提供了可信执行环境。合约由函数调用触发执行，状态变更永久记录在区块链上。</p><h2 id="合约生命周期" tabindex="-1">合约生命周期 <a class="header-anchor" href="#合约生命周期" aria-label="Permalink to “合约生命周期”">​</a></h2><p>智能合约的生命周期包括编写、编译、部署和执行四个阶段。部署后合约获得唯一地址，用户可以通过交易调用合约函数，合约可以自毁但不能被他人修改。</p><h2 id="合约存储与内存" tabindex="-1">合约存储与内存 <a class="header-anchor" href="#合约存储与内存" aria-label="Permalink to “合约存储与内存”">​</a></h2><p>合约存储分为storage、memory和calldata三种类型，storage数据永久存储在链上且成本高昂，memory和calldata在执行期间临时存在。优化存储使用可以大幅降低Gas消耗。</p><h2 id="事件与日志" tabindex="-1">事件与日志 <a class="header-anchor" href="#事件与日志" aria-label="Permalink to “事件与日志”">​</a></h2><p>事件是合约记录日志的机制，允许前端应用监听链上活动。事件参数存储在日志中，不占用合约存储空间，索引后的参数可以高效检索。</p><h2 id="访问控制" tabindex="-1">访问控制 <a class="header-anchor" href="#访问控制" aria-label="Permalink to “访问控制”">​</a></h2><p>通过修饰符（modifier）和onlyOwner模式实现合约的访问控制，确保关键操作只能由授权地址执行。多签钱包通过要求多个私钥授权来分散风险。</p><h2 id="代理合约模式" tabindex="-1">代理合约模式 <a class="header-anchor" href="#代理合约模式" aria-label="Permalink to “代理合约模式”">​</a></h2><p>代理合约通过将逻辑合约和数据合约分离，实现合约代码的可升级性。用户与代理合约交互，代理合约将调用委托给逻辑合约，从而在保持地址不变的情况下升级功能。</p><h2 id="合约安全与漏洞" tabindex="-1">合约安全与漏洞 <a class="header-anchor" href="#合约安全与漏洞" aria-label="Permalink to “合约安全与漏洞”">​</a></h2><p>常见合约漏洞包括重入攻击、整数溢出、访问控制失效和前端攻击等。重入攻击通过在以太币到账前再次调用合约函数来提取资金，可通过检查-生效-交互模式（CEI）预防。</p><h2 id="oracle预言机" tabindex="-1">Oracle预言机 <a class="header-anchor" href="#oracle预言机" aria-label="Permalink to “Oracle预言机”">​</a></h2><p>预言机将链下数据传输到链上供智能合约使用，是连接区块链与现实世界的重要桥梁。Chainlink等去中心化预言机通过多个数据源聚合保证数据的准确性和防篡改。</p><h2 id="合约审计与测试" tabindex="-1">合约审计与测试 <a class="header-anchor" href="#合约审计与测试" aria-label="Permalink to “合约审计与测试”">​</a></h2><p>合约审计通过静态分析、人工审查和模糊测试发现潜在漏洞，测试覆盖率直接影响合约安全性。主网部署前的充分测试和专业审计是保障资金安全的关键。</p>',19)])])}const b=e(l,[["render",h]]);export{m as __pageData,b as default};
