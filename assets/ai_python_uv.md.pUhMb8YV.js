import{_ as i,o as e,c as a,ah as n}from"./chunks/framework.BvDvRtye.js";const r=JSON.parse('{"title":"uv","description":"","frontmatter":{},"headers":[],"relativePath":"ai/python/uv.md","filePath":"ai/python/uv.md"}'),t={name:"ai/python/uv.md"};function l(p,s,o,d,h,c){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="uv" tabindex="-1">uv <a class="header-anchor" href="#uv" aria-label="Permalink to “uv”">​</a></h1><p>uv（2023 年起逐步流行）是围绕 Python 项目管理与依赖解决方案发展的工具集。它以 <code>pyproject.toml</code> 为配置中心、基于虚拟环境（venv）进行项目级环境隔离，目标是保留 <code>pip</code>/<code>venv</code> 的简单性，同时补齐现代项目管理、可重复构建和 CI 集成的需求。</p><h2 id="特性简介" tabindex="-1">特性简介 <a class="header-anchor" href="#特性简介" aria-label="Permalink to “特性简介”">​</a></h2><ul><li>目标：提供一种轻量、可复现的项目管理方式，降低对全局 Python 配置的依赖。</li><li>配置文件：以 <code>pyproject.toml</code> 为主，兼容从 <code>requirements.txt</code> 导入/导出依赖清单。</li><li>环境：在项目目录下使用独立虚拟环境（典型为 <code>.venv/</code> 或项目专有目录），避免全局包污染。</li><li>可用场景：个人项目、团队协作、CI/CD 管道以及与科学计算仓库（如 conda）互操作的项目。</li></ul><blockquote><p>pyproject.toml 是 python 官方推行的项目管理方案，可以通过 pip + venv 的方式来导入和导出，uv 是 pip 的社区升级版本，实现官方的规范来进行管理，使用 venv 作为自己的虚拟环境管理。</p></blockquote><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to “基本使用”">​</a></h2><p>uv 基于 venv 在项目级别管理 python 环境，推荐在项目根目录维护一个 <code>pyproject.toml</code>，其中包含项目元信息与依赖声明。下面是一个简化示例：</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myproject&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.1.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;示例项目&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">numpy = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^1.25&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">requests = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^2.31&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">venv = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.venv&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 可选：指定项目虚拟环境目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lock-file = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uv.lock&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 可选：锁文件位置</span></span></code></pre></div><p>如果项目需要兼容旧工具链，可以通过导出 <code>requirements.txt</code>：</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span># uv 将 pyproject 的依赖导出为 requirements.txt 的示例输出</span></span>
<span class="line"><span>numpy==1.25.0</span></span>
<span class="line"><span>requests==2.31.0</span></span></code></pre></div><h3 id="依赖与虚拟环境管理" tabindex="-1">依赖与虚拟环境管理 <a class="header-anchor" href="#依赖与虚拟环境管理" aria-label="Permalink to “依赖与虚拟环境管理”">​</a></h3><ul><li>创建/激活项目虚拟环境：工具通常会在项目目录下生成 <code>.venv/</code>（或指定目录），并在本地作用域管理解释器与已安装包。</li><li>安装依赖：在项目配置文件中声明依赖后，使用工具的安装命令将依赖解析并写入锁文件，保证可重复安装。</li><li>升级/移除依赖：修改 <code>pyproject.toml</code> 或使用工具提供的子命令更新依赖，同时更新锁文件。</li><li>导出/兼容：提供将锁文件或配置导出为 <code>requirements.txt</code> 的能力，以兼容某些 CI 或部署环境。</li></ul><p>示例典型工作流（伪命令与步骤，仅作说明）：</p><ol><li>初始化项目并创建虚拟环境：<code>uv init</code>（或 <code>uv env create</code>）</li><li>安装当前配置的依赖并生成锁文件：<code>uv install</code> -&gt; 生成 <code>uv.lock</code></li><li>添加新依赖（示例）：<code>uv add flask</code></li><li>导出兼容 <code>requirements.txt</code>：<code>uv export -f requirements.txt</code></li></ol><p>（实际子命令名称请参考 <code>uv</code> 版本文档）</p><h2 id="与其它工具的对比" tabindex="-1">与其它工具的对比 <a class="header-anchor" href="#与其它工具的对比" aria-label="Permalink to “与其它工具的对比”">​</a></h2><p>python 生态中，包仓库被分成了两座山头，一个是官方的 pypi，一个是 anoconda 公司维护的 conda 仓库，两个仓库在一定程度上存在隔阂，各自使用相应的包管理器。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>pip(pypi) + venv -----&gt; poetry(pypi) + venv --&gt; uv(pypi) + venv --</span></span>
<span class="line"><span>                                                                 |-----&gt; pixi</span></span>
<span class="line"><span>conda(conda-forge) ---&gt; mamba(conda-forge)-----------------------</span></span></code></pre></div><ul><li><code>pip + venv</code>：这是 Python 官方最基础的组合，简单但在依赖锁定、可复现构建、团队协作方面能力有限。<code>uv</code> 在保持这种简洁的同时补充锁文件和项目级配置支持。</li><li><code>poetry</code>：poetry 也使用 <code>pyproject.toml</code> 并包含依赖解析、打包与发布功能。<code>uv</code> 的设计目标更偏向与现有 <code>pip</code> 生态兼容，并降低学习曲线（视具体实现而定）。</li><li><code>conda</code> / <code>mamba</code>：针对科学计算与二进制包提供了强大的仓库与环境管理能力，但其全局和 shell 级配置有时难以和项目级管理模式对齐。社区出现了像 <code>pixi</code> 这样的工具，旨在结合 <code>uv</code> 的项目级管理与 <code>conda</code> 仓库的二进制包能力。</li><li><code>pixi</code>：定位为下一代包与构建工具，借鉴了 nodejs 的 <code>package.json</code> 与 <code>node_modules</code> 思路，将包与解释器管理与项目紧密耦合，常与 <code>uv</code> 的依赖解析或仓库访问能力互补。</li></ul>`,19)])])}const u=i(t,[["render",l]]);export{r as __pageData,u as default};
