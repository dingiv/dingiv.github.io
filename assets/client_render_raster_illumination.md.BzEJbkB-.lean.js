import{_ as s,c as a,o as e,ae as l,j as Q,a as T}from"./chunks/framework.CDjunVez.js";const W3=JSON.parse('{"title":"光照模型","description":"","frontmatter":{"title":"光照模型","order":3},"headers":[],"relativePath":"client/render/raster/illumination.md","filePath":"client/render/raster/illumination.md"}'),o={name:"client/render/raster/illumination.md"},m={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.309ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 12954.7 1347","aria-hidden":"true"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 298 1108","aria-hidden":"true"},i={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.937ex",role:"img",focusable:"false",viewBox:"0 -845 600 856","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.939ex",role:"img",focusable:"false",viewBox:"0 -846 485 857","aria-hidden":"true"},H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.949ex",height:"2.48ex",role:"img",focusable:"false",viewBox:"0 -846 7491.3 1096","aria-hidden":"true"},u={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.176ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 8918 1347","aria-hidden":"true"},f={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.492ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 7731.3 1347","aria-hidden":"true"},M={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.121ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 22153.7 1347","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.54ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 3774.7 888","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.99ex",height:"1.984ex",role:"img",focusable:"false",viewBox:"0 -683 3531.7 877","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.229ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 4963.3 851.1","aria-hidden":"true"},j={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.229ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 4963.3 851.1","aria-hidden":"true"},S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.951ex",height:"2.452ex",role:"img",focusable:"false",viewBox:"0 -833.9 14122.2 1083.9","aria-hidden":"true"},R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},B={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.987ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 10602.2 1594.2","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.147ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 949 600.8","aria-hidden":"true"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.371ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 1047.9 600.8","aria-hidden":"true"},G={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.314ex",height:"1.912ex",role:"img",focusable:"false",viewBox:"0 -833.9 1906.7 844.9","aria-hidden":"true"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.771ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.604ex",height:"2.594ex",role:"img",focusable:"false",viewBox:"0 -805.5 11759.1 1146.4","aria-hidden":"true"},q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.621ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9556.5 1000","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.727ex",height:"2.72ex",role:"img",focusable:"false",viewBox:"0 -997.1 11813.5 1202.1","aria-hidden":"true"},K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.117ex",height:"1.926ex",role:"img",focusable:"false",viewBox:"0 -694 935.6 851.1","aria-hidden":"true"},Q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.798ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.935ex",height:"2.73ex",role:"img",focusable:"false",viewBox:"0 -853.7 5275.3 1206.5","aria-hidden":"true"},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.489ex",role:"img",focusable:"false",viewBox:"0 -442 517 658","aria-hidden":"true"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 570 442","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.489ex",role:"img",focusable:"false",viewBox:"0 -442 517 658","aria-hidden":"true"},m1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.39ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.127ex",height:"3.759ex",role:"img",focusable:"false",viewBox:"0 -1047.1 11548.1 1661.4","aria-hidden":"true"},d1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.873ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 828 683","aria-hidden":"true"},i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.517ex",height:"1.359ex",role:"img",focusable:"false",viewBox:"0 -443 1112.3 600.8","aria-hidden":"true"},p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.695ex",height:"1.538ex",role:"img",focusable:"false",viewBox:"0 -680 749 680","aria-hidden":"true"},H1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.778ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -705 786 727","aria-hidden":"true"},u1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.469ex"},xmlns:"http://www.w3.org/2000/svg",width:"34.846ex",height:"4.07ex",role:"img",focusable:"false",viewBox:"0 -1149.5 15401.8 1799","aria-hidden":"true"},c1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.254ex"},xmlns:"http://www.w3.org/2000/svg",width:"24.769ex",height:"3.479ex",role:"img",focusable:"false",viewBox:"0 -983.7 10948 1537.8","aria-hidden":"true"},M1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.798ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.563ex",height:"2.764ex",role:"img",focusable:"false",viewBox:"0 -868.9 8646.8 1221.7","aria-hidden":"true"},V1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.544ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7312.6 1000","aria-hidden":"true"},D1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.366ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8117.6 1000","aria-hidden":"true"},j1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.654ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.081ex",height:"3.673ex",role:"img",focusable:"false",viewBox:"0 -892.5 12411.6 1623.5","aria-hidden":"true"},S1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.469ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.552ex",height:"4.07ex",role:"img",focusable:"false",viewBox:"0 -1149.5 17482.1 1799","aria-hidden":"true"},R1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.997ex",height:"2.452ex",role:"img",focusable:"false",viewBox:"0 -833.9 15026.6 1083.9","aria-hidden":"true"},B1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.469ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.705ex",height:"4.518ex",role:"img",focusable:"false",viewBox:"0 -1347.5 6499.7 1997","aria-hidden":"true"},I1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},F1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.913ex",role:"img",focusable:"false",viewBox:"0 -680 1079.6 845.6","aria-hidden":"true"},G1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"2.353ex",role:"img",focusable:"false",viewBox:"0 -1029 361 1040","aria-hidden":"true"},X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.971ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 429 1108","aria-hidden":"true"},q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"2.353ex",role:"img",focusable:"false",viewBox:"0 -1029 361 1040","aria-hidden":"true"},$1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.971ex",height:"2.507ex",role:"img",focusable:"false",viewBox:"0 -1097 429 1108","aria-hidden":"true"},K1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.213ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 978.3 599.8","aria-hidden":"true"},Q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.322ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 1026.3 599.8","aria-hidden":"true"},T3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.793ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.896ex",height:"5.75ex",role:"img",focusable:"false",viewBox:"0 -864.9 16749.8 2541.3","aria-hidden":"true"},e3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.552ex",height:"1.676ex",role:"img",focusable:"false",viewBox:"0 -583 3338.2 740.8","aria-hidden":"true"},s3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.227ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3194.3 1000","aria-hidden":"true"},m3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.052ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 465 453","aria-hidden":"true"},d3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.348ex",height:"2.851ex",role:"img",focusable:"false",viewBox:"0 -1005 5900 1260","aria-hidden":"true"},i3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.403ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 1062 647","aria-hidden":"true"},p3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.052ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 465 453","aria-hidden":"true"},H3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.294ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 572 453","aria-hidden":"true"},u3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.109ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 490 647","aria-hidden":"true"},c3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.294ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 572 453","aria-hidden":"true"},f3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.027ex",role:"img",focusable:"false",viewBox:"0 -443 485 454","aria-hidden":"true"},M3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.442ex",height:"2.579ex",role:"img",focusable:"false",viewBox:"0 -845 9919.5 1140","aria-hidden":"true"},V3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"2.353ex",role:"img",focusable:"false",viewBox:"0 -1029 361 1040","aria-hidden":"true"},b3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.734ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 6070.2 1347","aria-hidden":"true"},D3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.937ex",role:"img",focusable:"false",viewBox:"0 -845 600 856","aria-hidden":"true"},j3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.403ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 1062 647","aria-hidden":"true"},S3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1500 1000","aria-hidden":"true"},R3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.075ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.337ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -683 1917 716","aria-hidden":"true"},B3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.163ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 15541.9 1209.9","aria-hidden":"true"},I3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1500 1000","aria-hidden":"true"},F3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.095ex",height:"2.656ex",role:"img",focusable:"false",viewBox:"0 -830.4 7113.8 1173.7","aria-hidden":"true"};function G3(z3,t,X3,J3,q3,U3){return e(),a("div",null,[t[232]||(t[232]=l("",7)),Q("p",null,[t[12]||(t[12]=T("传统 Phong 模型首先计算反射向量 ",-1)),Q("mjx-container",m,[(e(),a("svg",n,[...t[0]||(t[0]=[l("",1)])])),t[1]||(t[1]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"="),Q("mtext",null,"reflect"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"−"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[13]||(t[13]=T("，其中 ",-1)),Q("mjx-container",d,[(e(),a("svg",r,[...t[2]||(t[2]=[l("",1)])])),t[3]||(t[3]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[14]||(t[14]=T(" 是光线方向、",-1)),Q("mjx-container",i,[(e(),a("svg",h,[...t[4]||(t[4]=[l("",1)])])),t[5]||(t[5]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[15]||(t[15]=T(" 是表面法线，然后计算反射向量与视线方向 ",-1)),Q("mjx-container",p,[(e(),a("svg",g,[...t[6]||(t[6]=[l("",1)])])),t[7]||(t[7]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[16]||(t[16]=T(" 的夹角余弦值。高光项为 ",-1)),Q("mjx-container",H,[(e(),a("svg",w,[...t[8]||(t[8]=[l("",1)])])),t[9]||(t[9]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),t[17]||(t[17]=T("，指数 ",-1)),Q("mjx-container",u,[(e(),a("svg",x,[...t[10]||(t[10]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[11]||(t[11]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[18]||(t[18]=T(" 控制高光集中程度，典型值在 8 到 256 之间。该模型需要计算反射向量，涉及一次向量减法和点积，在 shader 中开销较大。",-1))]),t[233]||(t[233]=Q("h3",{id:"blinn-phong-改进",tabindex:"-1"},[T("Blinn-Phong 改进 "),Q("a",{class:"header-anchor",href:"#blinn-phong-改进","aria-label":'Permalink to "Blinn-Phong 改进"'},"​")],-1)),Q("p",null,[t[29]||(t[29]=T("Blinn 提出使用半程向量 ",-1)),Q("mjx-container",c,[(e(),a("svg",L,[...t[19]||(t[19]=[l("",1)])])),t[20]||(t[20]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"="),Q("mtext",null,"normalize"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"+"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"v"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[30]||(t[30]=T(" 替代反射向量，高光项改为 ",-1)),Q("mjx-container",f,[(e(),a("svg",y,[...t[21]||(t[21]=[l("",1)])])),t[22]||(t[22]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),t[31]||(t[31]=T("。半程向量是光线和视线角平分线方向，当视线与光线关于法线对称时与反射向量相同。该改进省去了反射向量计算，仅需一次向量加法和归一化，在高光指数较大时计算效率提升明显。完整的 Blinn-Phong 光照公式为 ",-1)),Q("mjx-container",M,[(e(),a("svg",k,[...t[23]||(t[23]=[l("",1)])])),t[24]||(t[24]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"L"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"a")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"a")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"d")]),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"l"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"s")]),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"h"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"α")])])],-1))]),t[32]||(t[32]=T("，其中 ",-1)),Q("mjx-container",V,[(e(),a("svg",Z,[...t[25]||(t[25]=[l("",1)])])),t[26]||(t[26]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"a")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")])])],-1))]),t[33]||(t[33]=T(" 分别是环境光、漫反射和高光系数，",-1)),Q("mjx-container",b,[(e(),a("svg",v,[...t[27]||(t[27]=[l("",1)])])),t[28]||(t[28]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"a")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"d")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"I"),Q("mi",null,"s")])])],-1))]),t[34]||(t[34]=T(" 是对应的光照强度。",-1))]),t[234]||(t[234]=Q("h3",{id:"能量不守恒问题",tabindex:"-1"},[T("能量不守恒问题 "),Q("a",{class:"header-anchor",href:"#能量不守恒问题","aria-label":'Permalink to "能量不守恒问题"'},"​")],-1)),Q("p",null,[t[39]||(t[39]=T("Phong 和 Blinn-Phong 模型都存在能量不守恒的问题，当 ",-1)),Q("mjx-container",D,[(e(),a("svg",_,[...t[35]||(t[35]=[l("",1)])])),t[36]||(t[36]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",null,">"),Q("mn",null,"1")])],-1))]),t[40]||(t[40]=T(" 时反射光能量会超过入射光能量。工程中常强制 ",-1)),Q("mjx-container",j,[(e(),a("svg",C,[...t[37]||(t[37]=[l("",1)])])),t[38]||(t[38]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("mo",null,"="),Q("mn",null,"1")])],-1))]),t[41]||(t[41]=T(' 或直接归一化高光项，但这仍不能完全解决问题，这也是该模型被称为"经验模型"而非"物理模型"的主要原因。',-1))]),t[235]||(t[235]=l("",5)),Q("p",null,[t[46]||(t[46]=T("菲涅尔效应描述了反射率随观察角度变化的物理现象，垂直观察时反射率最低，随着观察角度增大反射率逐渐上升至 1。完整的菲涅尔公式需要考虑材质的折射率，实时渲染中常用 Schlick 近似 ",-1)),Q("mjx-container",S,[(e(),a("svg",A,[...t[42]||(t[42]=[l("",1)])])),t[43]||(t[43]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"F"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"5")])])],-1))]),t[47]||(t[47]=T("，其中 ",-1)),Q("mjx-container",R,[(e(),a("svg",P,[...t[44]||(t[44]=[l("",1)])])),t[45]||(t[45]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[48]||(t[48]=T(" 是垂直入射时的反射率，对于大多数非金属约为 0.04，金属则可高达 0.8-1.0。这意味着掠射角下几乎所有材质都会变成类似镜面的反射体。",-1))]),t[236]||(t[236]=Q("h3",{id:"能量守恒",tabindex:"-1"},[T("能量守恒 "),Q("a",{class:"header-anchor",href:"#能量守恒","aria-label":'Permalink to "能量守恒"'},"​")],-1)),t[237]||(t[237]=Q("p",null,"能量守恒要求出射光能量不能超过入射光能量，对于不透明材质意味着反射率和透射率之和为 1。在 BRDF 建模中体现为漫反射和镜面反射的能量分配，镜面反射越强的材质漫反射越弱，金属几乎全部能量都用于镜面反射因此没有漫反射项。",-1)),t[238]||(t[238]=Q("h2",{id:"brdf-双向反射分布函数",tabindex:"-1"},[T("BRDF 双向反射分布函数 "),Q("a",{class:"header-anchor",href:"#brdf-双向反射分布函数","aria-label":'Permalink to "BRDF 双向反射分布函数"'},"​")],-1)),Q("p",null,[t[57]||(t[57]=T("BRDF 定义为 ",-1)),Q("mjx-container",B,[(e(),a("svg",O,[...t[49]||(t[49]=[l("",1)])])),t[50]||(t[50]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"L"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"L"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")]),Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")])])])])],-1))]),t[58]||(t[58]=T("，描述了给定入射光照方向 ",-1)),Q("mjx-container",I,[(e(),a("svg",E,[...t[51]||(t[51]=[l("",1)])])),t[52]||(t[52]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")])])],-1))]),t[59]||(t[59]=T(" 和出射观察方向 ",-1)),Q("mjx-container",F,[(e(),a("svg",N,[...t[53]||(t[53]=[l("",1)])])),t[54]||(t[54]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")])])],-1))]),t[60]||(t[60]=T(" 时的反射光比例。BRDF 的单位是 ",-1)),Q("mjx-container",G,[(e(),a("svg",z,[...t[55]||(t[55]=[l("",1)])])),t[56]||(t[56]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"s"),Q("msup",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"1")])])])],-1))]),t[61]||(t[61]=T("（球面度倒数），物理意义是单位立体角内的反射率。",-1))]),t[239]||(t[239]=Q("h3",{id:"brdf-性质",tabindex:"-1"},[T("BRDF 性质 "),Q("a",{class:"header-anchor",href:"#brdf-性质","aria-label":'Permalink to "BRDF 性质"'},"​")],-1)),Q("p",null,[t[70]||(t[70]=T("有效的 BRDF 需要满足：线性性允许叠加多个光源的贡献，能量守恒要求 ",-1)),Q("mjx-container",X,[(e(),a("svg",J,[...t[62]||(t[62]=[l("",1)])])),t[63]||(t[63]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mo",{"data-mjx-texclass":"OP"},"∫"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",{mathvariant:"normal"},"Ω"),Q("mo",null,"+")])])]),Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"o")]),Q("mi",null,"d"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",null,"≤"),Q("mn",null,"1")])],-1))]),t[71]||(t[71]=T("，亥姆霍兹互易性 ",-1)),Q("mjx-container",q,[(e(),a("svg",U,[...t[64]||(t[64]=[l("",1)])])),t[65]||(t[65]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[72]||(t[72]=T(" 允许交换光线方向，非负性要求 BRDF 值永远非负。实际渲染中常将 BRDF 拆分为漫反射和镜面反射两项 ",-1)),Q("mjx-container",$,[(e(),a("svg",W,[...t[66]||(t[66]=[l("",1)])])),t[67]||(t[67]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"r")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"d")]),Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mi",null,"i"),Q("mi",null,"f"),Q("mi",null,"f"),Q("mi",null,"u"),Q("mi",null,"s"),Q("mi",null,"e")])]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")]),Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"p"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"u"),Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"r")])])])],-1))]),t[73]||(t[73]=T("，其中 ",-1)),Q("mjx-container",K,[(e(),a("svg",Y,[...t[68]||(t[68]=[l("",1)])])),t[69]||(t[69]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"s")])])],-1))]),t[74]||(t[74]=T(" 实际上是菲涅尔项在特定角度下的值。",-1))]),t[240]||(t[240]=Q("h3",{id:"漫反射-brdf",tabindex:"-1"},[T("漫反射 BRDF "),Q("a",{class:"header-anchor",href:"#漫反射-brdf","aria-label":'Permalink to "漫反射 BRDF"'},"​")],-1)),Q("p",null,[t[83]||(t[83]=T("理想的朗伯漫反射 BRDF 是常数 ",-1)),Q("mjx-container",Q1,[(e(),a("svg",t1,[...t[75]||(t[75]=[l("",1)])])),t[76]||(t[76]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"m"),Q("mi",null,"b"),Q("mi",null,"e"),Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mi",null,"ρ"),Q("mi",null,"π")])])],-1))]),t[84]||(t[84]=T("，其中 ",-1)),Q("mjx-container",T1,[(e(),a("svg",a1,[...t[77]||(t[77]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70C",d:"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z",style:{"stroke-width":"3"}})])])],-1)])])),t[78]||(t[78]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ρ")])],-1))]),t[85]||(t[85]=T(" 是反照率。除以 ",-1)),Q("mjx-container",e1,[(e(),a("svg",l1,[...t[79]||(t[79]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70B",d:"M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z",style:{"stroke-width":"3"}})])])],-1)])])),t[80]||(t[80]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"π")])],-1))]),t[86]||(t[86]=T(" 的原因是 BRDF 是辐射亮度的比值而非能量的比值，朗伯表面对半球空间积分后反射率为 ",-1)),Q("mjx-container",s1,[(e(),a("svg",o1,[...t[81]||(t[81]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D70C",d:"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z",style:{"stroke-width":"3"}})])])],-1)])])),t[82]||(t[82]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ρ")])],-1))]),t[87]||(t[87]=T("。工程实践中 Oren-Nayar 模型通过引入微表面间的相互遮挡来模拟粗糙表面的漫反射效果，公式涉及入射角和出射角的正弦值与方位角差，能表现出粗糙表面在掠射角下的暗化现象，特别适合模拟布料、泥土等粗糙材质。",-1))]),t[241]||(t[241]=Q("h2",{id:"cook-torrance-镜面反射-brdf",tabindex:"-1"},[T("Cook-Torrance 镜面反射 BRDF "),Q("a",{class:"header-anchor",href:"#cook-torrance-镜面反射-brdf","aria-label":'Permalink to "Cook-Torrance 镜面反射 BRDF"'},"​")],-1)),Q("p",null,[t[98]||(t[98]=T("Cook-Torrance 模型将镜面反射 BRDF 分解为三项：",-1)),Q("mjx-container",m1,[(e(),a("svg",n1,[...t[88]||(t[88]=[l("",1)])])),t[89]||(t[89]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msubsup",null,[Q("mi",null,"f"),Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"p"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"u"),Q("mi",null,"l"),Q("mi",null,"a"),Q("mi",null,"r")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"D"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"F"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")"),Q("mi",null,"G"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mn",null,"4"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[99]||(t[99]=T("，分母中的几何项修正了微表面面积与宏观表面积的差异。",-1)),Q("mjx-container",d1,[(e(),a("svg",r1,[...t[90]||(t[90]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D437",d:"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z",style:{"stroke-width":"3"}})])])],-1)])])),t[91]||(t[91]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"D")])],-1))]),t[100]||(t[100]=T(" 是法线分布函数（NDF）描述微镜面法线为半程向量 ",-1)),Q("mjx-container",i1,[(e(),a("svg",h1,[...t[92]||(t[92]=[l("",1)])])),t[93]||(t[93]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])],-1))]),t[101]||(t[101]=T(" 的概率密度，",-1)),Q("mjx-container",p1,[(e(),a("svg",g1,[...t[94]||(t[94]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D439",d:"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z",style:{"stroke-width":"3"}})])])],-1)])])),t[95]||(t[95]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"F")])],-1))]),t[102]||(t[102]=T(" 是菲涅尔项描述反射比例，",-1)),Q("mjx-container",H1,[(e(),a("svg",w1,[...t[96]||(t[96]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D43A",d:"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z",style:{"stroke-width":"3"}})])])],-1)])])),t[97]||(t[97]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"G")])],-1))]),t[103]||(t[103]=T(" 是几何遮蔽函数描述微镜面相互遮挡造成的能量损失。",-1))]),t[242]||(t[242]=Q("h3",{id:"法线分布函数-d",tabindex:"-1"},[T("法线分布函数 D "),Q("a",{class:"header-anchor",href:"#法线分布函数-d","aria-label":'Permalink to "法线分布函数 D"'},"​")],-1)),Q("p",null,[t[116]||(t[116]=T("Beckmann 分布 ",-1)),Q("mjx-container",u1,[(e(),a("svg",x1,[...t[104]||(t[104]=[l("",1)])])),t[105]||(t[105]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"k"),Q("mi",null,"m"),Q("mi",null,"a"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mi",null,"π"),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"4")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])])]),Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mo",null,"−"),Q("mfrac",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"tan"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])]),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),t[117]||(t[117]=T(" 基于高斯分布假设，",-1)),Q("mjx-container",c1,[(e(),a("svg",L1,[...t[106]||(t[106]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[107]||(t[107]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[118]||(t[118]=T(" 是粗糙度参数。GGX 分布（也称 Trowbridge-Reitz）",-1)),Q("mjx-container",f1,[(e(),a("svg",y1,[...t[108]||(t[108]=[l("",1)])])),t[109]||(t[109]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"G"),Q("mi",null,"X")])]),Q("mo",null,"="),Q("mfrac",null,[Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mrow",null,[Q("mi",null,"π"),Q("mo",{stretchy:"false"},"("),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")]),Q("mo",null,"+"),Q("mn",null,"1"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])])])])],-1))]),t[119]||(t[119]=T(" 的长尾特性更好，能产生现实中观察到的明亮高光周围柔和的衰减效果。Blinn-Phong 分布 ",-1)),Q("mjx-container",M1,[(e(),a("svg",k1,[...t[110]||(t[110]=[l("",1)])])),t[111]||(t[111]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"α"),Q("mo",null,"+"),Q("mn",null,"2")]),Q("mrow",null,[Q("mn",null,"2"),Q("mi",null,"π")])]),Q("msup",null,[Q("mi",null,"cos"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"α")])]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")])])],-1))]),t[120]||(t[120]=T(" 计算简单但长尾效果不如 GGX，",-1)),Q("mjx-container",V1,[(e(),a("svg",Z1,[...t[112]||(t[112]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),t[113]||(t[113]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[121]||(t[121]=T(" 与 Blinn-Phong 高光指数的关系是 ",-1)),Q("mjx-container",b1,[(e(),a("svg",v1,[...t[114]||(t[114]=[l("",1)])])),t[115]||(t[115]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α"),Q("mo",null,"="),Q("mi",null,"s"),Q("mi",null,"h"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"e"),Q("mi",null,"s"),Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2")])],-1))]),t[122]||(t[122]=T("。",-1))]),t[243]||(t[243]=Q("h3",{id:"几何遮蔽函数-g",tabindex:"-1"},[T("几何遮蔽函数 G "),Q("a",{class:"header-anchor",href:"#几何遮蔽函数-g","aria-label":'Permalink to "几何遮蔽函数 G"'},"​")],-1)),Q("p",null,[t[129]||(t[129]=T("Smith 函数是现代 PBR 中的主流选择，将几何项分解为 ",-1)),Q("mjx-container",D1,[(e(),a("svg",_1,[...t[123]||(t[123]=[l("",1)])])),t[124]||(t[124]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"G"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[130]||(t[130]=T("。对于 GGX 分布，Smith 函数的解析形式为 ",-1)),Q("mjx-container",j1,[(e(),a("svg",C1,[...t[125]||(t[125]=[l("",1)])])),t[126]||(t[126]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"G"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"ω"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")]),Q("mrow",null,[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("mo",null,"+"),Q("msqrt",null,[Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msup",null,[Q("mi",null,"α"),Q("mn",null,"2")]),Q("mo",{stretchy:"false"},")"),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])])])])],-1))]),t[131]||(t[131]=T("，该公式在粗糙表面时能有效模拟遮挡效应。更精确的 Smith 相关函数还考虑了入射光和出射光的相关性，但计算复杂度更高。早期的 Blinn 函数 ",-1)),Q("mjx-container",S1,[(e(),a("svg",A1,[...t[127]||(t[127]=[l("",1)])])),t[128]||(t[128]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mn",null,"1"),Q("mo",null,","),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"o")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"o")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])]),Q("mo",null,","),Q("mfrac",null,[Q("mrow",null,[Q("mn",null,"2"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"o")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"ω"),Q("mi",null,"h")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),t[132]||(t[132]=T(" 通过取三个值的最小值来近似，计算简单但不够准确。",-1))]),t[244]||(t[244]=Q("h3",{id:"菲涅尔项-f",tabindex:"-1"},[T("菲涅尔项 F "),Q("a",{class:"header-anchor",href:"#菲涅尔项-f","aria-label":'Permalink to "菲涅尔项 F"'},"​")],-1)),Q("p",null,[t[141]||(t[141]=T("Schlick 近似 ",-1)),Q("mjx-container",R1,[(e(),a("svg",P1,[...t[133]||(t[133]=[l("",1)])])),t[134]||(t[134]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"c"),Q("mi",null,"h"),Q("mi",null,"l"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"k")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"5")])])],-1))]),t[142]||(t[142]=T(" 是实时渲染中的标准选择，",-1)),Q("mjx-container",B1,[(e(),a("svg",O1,[...t[135]||(t[135]=[l("",1)])])),t[136]||(t[136]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")]),Q("mo",null,"="),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"1")]),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"2")])]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"1")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"n"),Q("mn",null,"2")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mn",null,"2")])])],-1))]),t[143]||(t[143]=T(" 是垂直入射时的反射率。对于导体（金属），",-1)),Q("mjx-container",I1,[(e(),a("svg",E1,[...t[137]||(t[137]=[l("",1)])])),t[138]||(t[138]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[144]||(t[144]=T(" 通常在 0.5 到 1.0 之间且与波长相关，因此金属高光带有颜色。对于绝缘体（非金属），",-1)),Q("mjx-container",F1,[(e(),a("svg",N1,[...t[139]||(t[139]=[l("",1)])])),t[140]||(t[140]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"F"),Q("mn",null,"0")])])],-1))]),t[145]||(t[145]=T(" 约为 0.04 且几乎不随波长变化，这也是为什么金属和塑料看起来质感不同的根本原因。完整的菲涅尔公式需要考虑 s 偏振和 p 偏振分量，计算过于复杂不适合实时渲染。",-1))]),t[245]||(t[245]=Q("h2",{id:"各向异性反射",tabindex:"-1"},[T("各向异性反射 "),Q("a",{class:"header-anchor",href:"#各向异性反射","aria-label":'Permalink to "各向异性反射"'},"​")],-1)),Q("p",null,[t[162]||(t[162]=T("各向异性 BRDF 考虑了表面存在方向性纹理（如拉丝金属、头发、布料）时反射特性的变化。这类材质需要定义切线方向 ",-1)),Q("mjx-container",G1,[(e(),a("svg",z1,[...t[146]||(t[146]=[l("",1)])])),t[147]||(t[147]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[163]||(t[163]=T(" 和副切线方向 ",-1)),Q("mjx-container",X1,[(e(),a("svg",J1,[...t[148]||(t[148]=[l("",1)])])),t[149]||(t[149]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[164]||(t[164]=T("，微表面分布函数需要在切线平面内分别考虑沿 ",-1)),Q("mjx-container",q1,[(e(),a("svg",U1,[...t[150]||(t[150]=[l("",1)])])),t[151]||(t[151]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[165]||(t[165]=T(" 和 ",-1)),Q("mjx-container",$1,[(e(),a("svg",W1,[...t[152]||(t[152]=[l("",1)])])),t[153]||(t[153]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[166]||(t[166]=T(" 方向的粗糙度 ",-1)),Q("mjx-container",K1,[(e(),a("svg",Y1,[...t[154]||(t[154]=[l("",1)])])),t[155]||(t[155]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")])])],-1))]),t[167]||(t[167]=T(" 和 ",-1)),Q("mjx-container",Q3,[(e(),a("svg",t3,[...t[156]||(t[156]=[l("",1)])])),t[157]||(t[157]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")])])],-1))]),t[168]||(t[168]=T("。各向异性 GGX 的公式为 ",-1)),Q("mjx-container",T3,[(e(),a("svg",a3,[...t[158]||(t[158]=[l("",1)])])),t[159]||(t[159]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"s"),Q("mi",null,"o")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mi",null,"π"),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")]),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")]),Q("msup",null,[Q("mi",null,"cos"),Q("mn",null,"4")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"h")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mfrac",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("msubsup",null,[Q("mi",null,"α"),Q("mi",null,"t"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mfrac",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("msubsup",null,[Q("mi",null,"α"),Q("mi",null,"b"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"ω"),Q("mo",{stretchy:"false"},"→")])]),Q("mi",null,"h")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mn",null,"2")])])])])],-1))]),t[169]||(t[169]=T("，当 ",-1)),Q("mjx-container",e3,[(e(),a("svg",l3,[...t[160]||(t[160]=[l("",1)])])),t[161]||(t[161]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"t")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"α"),Q("mi",null,"b")])])],-1))]),t[170]||(t[170]=T(" 时退化为各向同性的 GGX。头发渲染使用 Marschner 模型，考虑了 R（表面反射）、TT（进入后穿出）、TRT（进入后内部反射再穿出）三种光路，需要单独的着色模型处理。",-1))]),t[246]||(t[246]=Q("h2",{id:"法线贴图技术",tabindex:"-1"},[T("法线贴图技术 "),Q("a",{class:"header-anchor",href:"#法线贴图技术","aria-label":'Permalink to "法线贴图技术"'},"​")],-1)),Q("p",null,[t[179]||(t[179]=T("法线贴图将表面细节编码到法线纹理中，每个纹素存储 ",-1)),Q("mjx-container",s3,[(e(),a("svg",o3,[...t[171]||(t[171]=[l("",1)])])),t[172]||(t[172]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",null,","),Q("mi",null,"z"),Q("mo",{stretchy:"false"},")")])],-1))]),t[180]||(t[180]=T(" 归一化后的法线向量，",-1)),Q("mjx-container",m3,[(e(),a("svg",n3,[...t[173]||(t[173]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D467",d:"M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z",style:{"stroke-width":"3"}})])])],-1)])])),t[174]||(t[174]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"z")])],-1))]),t[181]||(t[181]=T(" 分量可通过 ",-1)),Q("mjx-container",d3,[(e(),a("svg",r3,[...t[175]||(t[175]=[l("",1)])])),t[176]||(t[176]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msqrt",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("msup",null,[Q("mi",null,"x"),Q("mn",null,"2")]),Q("mo",null,"−"),Q("msup",null,[Q("mi",null,"y"),Q("mn",null,"2")])])])],-1))]),t[182]||(t[182]=T(" 重构因此某些格式只存储 ",-1)),Q("mjx-container",i3,[(e(),a("svg",h3,[...t[177]||(t[177]=[l("",1)])])),t[178]||(t[178]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"x"),Q("mi",null,"y")])],-1))]),t[183]||(t[183]=T(" 两个通道。",-1))]),t[247]||(t[247]=Q("h3",{id:"切线空间法线贴图",tabindex:"-1"},[T("切线空间法线贴图 "),Q("a",{class:"header-anchor",href:"#切线空间法线贴图","aria-label":'Permalink to "切线空间法线贴图"'},"​")],-1)),Q("p",null,[t[202]||(t[202]=T("切线空间法线贴图将法线存储在三角形局部坐标系中，",-1)),Q("mjx-container",p3,[(e(),a("svg",g3,[...t[184]||(t[184]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D467",d:"M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z",style:{"stroke-width":"3"}})])])],-1)])])),t[185]||(t[185]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"z")])],-1))]),t[203]||(t[203]=T(" 轴指向表面外侧，",-1)),Q("mjx-container",H3,[(e(),a("svg",w3,[...t[186]||(t[186]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D465",d:"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z",style:{"stroke-width":"3"}})])])],-1)])])),t[187]||(t[187]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"x")])],-1))]),t[204]||(t[204]=T(" 和 ",-1)),Q("mjx-container",u3,[(e(),a("svg",x3,[...t[188]||(t[188]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D466",d:"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)])])),t[189]||(t[189]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"y")])],-1))]),t[205]||(t[205]=T(" 轴分别对应纹理坐标的 ",-1)),Q("mjx-container",c3,[(e(),a("svg",L3,[...t[190]||(t[190]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D462",d:"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)])])),t[191]||(t[191]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"u")])],-1))]),t[206]||(t[206]=T(" 和 ",-1)),Q("mjx-container",f3,[(e(),a("svg",y3,[...t[192]||(t[192]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D463",d:"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z",style:{"stroke-width":"3"}})])])],-1)])])),t[193]||(t[193]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"v")])],-1))]),t[207]||(t[207]=T(" 方向。这种方式将法线与三角形解耦，同一张法线贴图可以应用到任意朝向的表面上。在 shader 中需要构建 TBN 矩阵将切线空间的法线变换到世界空间，",-1)),Q("mjx-container",M3,[(e(),a("svg",k3,[...t[194]||(t[194]=[l("",1)])])),t[195]||(t[195]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"w"),Q("mi",null,"o"),Q("mi",null,"r"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",null,"="),Q("mi",null,"T"),Q("mi",null,"B"),Q("mi",null,"N"),Q("mo",null,"⋅"),Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",null,"n"),Q("mi",null,"g"),Q("mi",null,"e"),Q("mi",null,"n"),Q("mi",null,"t")])])])],-1))]),t[208]||(t[208]=T("，TBN 矩阵由切线 ",-1)),Q("mjx-container",V3,[(e(),a("svg",Z3,[...t[196]||(t[196]=[l("",1)])])),t[197]||(t[197]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[209]||(t[209]=T("、副切线 ",-1)),Q("mjx-container",b3,[(e(),a("svg",v3,[...t[198]||(t[198]=[l("",1)])])),t[199]||(t[199]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"b"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,"="),Q("mtext",null,"cross"),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",null,","),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"t"),Q("mo",{stretchy:"false"},"→")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[210]||(t[210]=T(" 和法线 ",-1)),Q("mjx-container",D3,[(e(),a("svg",_3,[...t[200]||(t[200]=[l("",1)])])),t[201]||(t[201]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"n"),Q("mo",{stretchy:"false"},"→")])])])],-1))]),t[211]||(t[211]=T(" 组成。切线通常由 3D 建模软件计算并存储在顶点数据中，如果切线数据缺失也可以通过相邻顶点的纹理坐标差分近似计算。",-1))]),t[248]||(t[248]=Q("h3",{id:"object-space-和-world-space-法线贴图",tabindex:"-1"},[T("Object Space 和 World Space 法线贴图 "),Q("a",{class:"header-anchor",href:"#object-space-和-world-space-法线贴图","aria-label":'Permalink to "Object Space 和 World Space 法线贴图"'},"​")],-1)),t[249]||(t[249]=Q("p",null,"Object Space 法线贴图在世界空间或模型空间中存储绝对法线方向，不需要 TBN 变换，适合不规则的静态物体如岩石、树木。这种方式无法复用到不同几何体，但可以更好地处理锐利的边缘和法线不连续的情况。World Space 法线贴图直接存储世界空间的法线，通常用于烘焙光照信息（光照贴图），当物体移动时需要重新计算。",-1)),t[250]||(t[250]=Q("h3",{id:"法线贴图细节",tabindex:"-1"},[T("法线贴图细节 "),Q("a",{class:"header-anchor",href:"#法线贴图细节","aria-label":'Permalink to "法线贴图细节"'},"​")],-1)),Q("p",null,[t[214]||(t[214]=T("法线贴图的强度系数允许在运行时缩放法线的 ",-1)),Q("mjx-container",j3,[(e(),a("svg",C3,[...t[212]||(t[212]=[l("",1)])])),t[213]||(t[213]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"x"),Q("mi",null,"y")])],-1))]),t[215]||(t[215]=T(" 分量，控制凹凸效果的明显程度。法线贴图通常与高度图结合使用，高度图记录表面高度偏移，可以通过 Sobel 算子计算法线。法线贴图不能产生真正的自遮蔽和自投影效果，需要配合视差贴图（Parallax Mapping）或置换贴图（Displacement Mapping）使用。",-1))]),t[251]||(t[251]=Q("h2",{id:"纹理优化策略",tabindex:"-1"},[T("纹理优化策略 "),Q("a",{class:"header-anchor",href:"#纹理优化策略","aria-label":'Permalink to "纹理优化策略"'},"​")],-1)),t[252]||(t[252]=Q("p",null,"纹理内存带宽通常是实时渲染的瓶颈所在，现代 GPU 的纹理缓存层级设计对访问模式非常敏感。",-1)),t[253]||(t[253]=Q("h3",{id:"mipmap-技术",tabindex:"-1"},[T("Mipmap 技术 "),Q("a",{class:"header-anchor",href:"#mipmap-技术","aria-label":'Permalink to "Mipmap 技术"'},"​")],-1)),Q("p",null,[t[226]||(t[226]=T("Mipmap 通过预生成多级纹理来减少远距离纹理采样时的缓存未命中，每级纹理是上一级的 2x2 下采样，纹理尺寸减少到 ",-1)),Q("mjx-container",S3,[(e(),a("svg",A3,[...t[216]||(t[216]=[l("",1)])])),t[217]||(t[217]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mn",null,"1"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"4")])],-1))]),t[227]||(t[227]=T("。采样时根据纹理梯度 ",-1)),Q("mjx-container",R3,[(e(),a("svg",P3,[...t[218]||(t[218]=[l("",1)])])),t[219]||(t[219]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mtext",null,"uv")])],-1))]),t[228]||(t[228]=T(" 自动选择合适的 mip 层级 ",-1)),Q("mjx-container",B3,[(e(),a("svg",O3,[...t[220]||(t[220]=[l("",1)])])),t[221]||(t[221]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"d"),Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),Q("mo",{stretchy:"false"},"("),Q("mn",null,"0"),Q("mo",null,","),Q("mfrac",null,[Q("mn",null,"1"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"log"),Q("mn",null,"2")]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mo",{"data-mjx-texclass":"ORD"},"∥"),Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"u"),Q("msup",null,[Q("mo",{"data-mjx-texclass":"ORD"},"∥"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("mo",{"data-mjx-texclass":"ORD"},"∥"),Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"v"),Q("msup",null,[Q("mo",{"data-mjx-texclass":"ORD"},"∥"),Q("mn",null,"2")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},")")])],-1))]),t[229]||(t[229]=T("，在层级之间进行三线性插值。Mipmap 的代价是额外增加约 ",-1)),Q("mjx-container",I3,[(e(),a("svg",E3,[...t[222]||(t[222]=[l("",1)])])),t[223]||(t[223]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mn",null,"1"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"3")])],-1))]),t[230]||(t[230]=T(" 的显存占用（",-1)),Q("mjx-container",F3,[(e(),a("svg",N3,[...t[224]||(t[224]=[l("",1)])])),t[225]||(t[225]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mn",null,"1"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("msup",null,[Q("mn",null,"4"),Q("mi",null,"i")]),Q("mo",null,"="),Q("mn",null,"4"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"3")])],-1))]),t[231]||(t[231]=T("），换来的是大幅提升的缓存命中率和减少的纹理噪点。使用 Mipmap 还需注意 mip 射纹（mip bands）问题，可通过 gamma 校正或各向异性过滤缓解。",-1))]),t[254]||(t[254]=Q("h3",{id:"各向异性过滤",tabindex:"-1"},[T("各向异性过滤 "),Q("a",{class:"header-anchor",href:"#各向异性过滤","aria-label":'Permalink to "各向异性过滤"'},"​")],-1)),t[255]||(t[255]=Q("p",null,"当表面与视线夹角较大时，纹理空间的一个像素对应屏幕空间的多个像素，需要采样更多纹素来保证质量。各向异性过滤（AF）沿纹理梯度的主轴方向采样多个纹素（16x AF 意味着最多采样 16 个），采样形状通常是椭圆形而非圆形。AF 的计算开销随各向异性程度增加，现代 GPU 支持 2x 到 16x 的 AF 等级，工程中常设置为 8x 或 16x 以平衡质量和性能。",-1)),t[256]||(t[256]=Q("h3",{id:"纹理压缩",tabindex:"-1"},[T("纹理压缩 "),Q("a",{class:"header-anchor",href:"#纹理压缩","aria-label":'Permalink to "纹理压缩"'},"​")],-1)),t[257]||(t[257]=Q("p",null,"纹理压缩格式通过块压缩（BC）或自适应标量量化（ASTC）降低显存占用和解压带宽。BC1（DXT1）压缩比为 6:1 但不支持 alpha 通道，BC3（DXT5）支持独立的 alpha 通道。ASTC 格式更灵活，支持 4x4 到 12x12 的不同块大小，压缩比可达 3.6:1 到 25:1，质量明显优于 BC 格式。压缩纹理在 GPU 上硬件解压，几乎不增加运行时开销，但压缩过程是有损的，可能在平滑渐变区域产生块状伪影，需要精心选择压缩参数。",-1))])}const K3=s(o,[["render",G3]]);export{W3 as __pageData,K3 as default};
